<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Canlƒ± TV - Premium IPTV</title>
    <style>
        /* T√úM CSS KODLARI RESPONSIVE VE OPTƒ∞Mƒ∞ZE EDƒ∞LMƒ∞≈û */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0a0e14 0%, #0f1419 100%);
            color: #fff;
            line-height: 1.6;
            font-size: 16px;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 15px;
            width: 100%;
        }
        
        /* HEADER - MODERN VE RESPONSIVE */
        header {
            background: linear-gradient(135deg, #1a2433 0%, #0f1419 100%);
            padding: 18px 0;
            border-bottom: 2px solid #00a8ff;
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(15px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .logo {
            font-size: clamp(22px, 4vw, 30px);
            font-weight: 800;
            color: #00a8ff;
            display: flex;
            align-items: center;
            gap: 12px;
            text-shadow: 0 2px 10px rgba(0, 168, 255, 0.3);
        }
        
        .logo-icon {
            font-size: 32px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .header-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .header-btn {
            background: rgba(0, 168, 255, 0.15);
            color: #00a8ff;
            border: 2px solid rgba(0, 168, 255, 0.3);
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            white-space: nowrap;
            backdrop-filter: blur(10px);
        }
        
        .header-btn:hover {
            background: rgba(0, 168, 255, 0.25);
            border-color: #00a8ff;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 168, 255, 0.2);
        }
        
        .header-btn.primary {
            background: linear-gradient(135deg, #00a8ff, #0077cc);
            color: white;
            border: none;
        }
        
        .header-btn.primary:hover {
            background: linear-gradient(135deg, #00a8ff, #0066aa);
            box-shadow: 0 8px 25px rgba(0, 168, 255, 0.4);
        }
        
        /* ANA ƒ∞√áERƒ∞K */
        .main-content {
            padding: 25px 0;
            min-height: calc(100vh - 200px);
        }
        
        .section-title {
            font-size: clamp(20px, 3vw, 26px);
            margin: 30px 0 25px;
            color: #00a8ff;
            border-left: 5px solid #00a8ff;
            padding-left: 20px;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 15px;
            text-shadow: 0 2px 5px rgba(0, 168, 255, 0.2);
        }
        
        .section-title-icon {
            font-size: 28px;
        }
        
        /* KANAL KARTLARI - MODERN VE RESPONSIVE */
        .channel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 768px) {
            .channel-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .channel-grid {
                grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
                gap: 12px;
            }
        }
        
        @media (max-width: 360px) {
            .channel-grid {
                grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
                gap: 10px;
            }
        }
        
        .channel-card {
            background: linear-gradient(145deg, #1a2433, #151d29);
            border-radius: 16px;
            padding: 25px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid #2a3444;
            position: relative;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }
        
        .channel-card:hover {
            transform: translateY(-8px);
            border-color: #00a8ff;
            box-shadow: 0 15px 35px rgba(0, 168, 255, 0.2);
        }
        
        .channel-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 168, 255, 0.15), transparent);
            transition: left 0.8s ease;
        }
        
        .channel-card:hover::before {
            left: 100%;
        }
        
        .channel-card.live {
            border-color: #ff4757;
        }
        
        .channel-card.live::after {
            content: 'LIVE';
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff4757;
            color: white;
            font-size: 10px;
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: 700;
            animation: blink 2s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .channel-logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #00a8ff, #0077cc);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: 900;
            color: white;
            border: 4px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 25px rgba(0, 168, 255, 0.4);
            transition: all 0.3s ease;
        }
        
        .channel-card:hover .channel-logo {
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(0, 168, 255, 0.6);
        }
        
        .channel-name {
            font-weight: 800;
            margin-bottom: 10px;
            font-size: 18px;
            line-height: 1.3;
            color: #ffffff;
        }
        
        .channel-category {
            font-size: 14px;
            color: #8899aa;
            background: rgba(136, 153, 170, 0.15);
            padding: 6px 14px;
            border-radius: 25px;
            display: inline-block;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .channel-card:hover .channel-category {
            background: rgba(0, 168, 255, 0.2);
            color: #00a8ff;
        }
        
        /* GELƒ∞≈ûMƒ∞≈û MEDYA OYNATICI - PROFESYONEL */
        .media-player-container {
            background: linear-gradient(145deg, #1a2433, #151d29);
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 40px;
            border: 2px solid #2a3444;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }
        
        .player-header {
            padding: 25px;
            background: linear-gradient(90deg, #2a3444, #1a2433);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            border-bottom: 2px solid #2a3444;
        }
        
        .channel-info {
            display: flex;
            align-items: center;
            gap: 20px;
            flex: 1;
            min-width: 200px;
        }
        
        .current-logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #00a8ff, #0077cc);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            font-weight: 900;
            color: white;
            border: 3px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 168, 255, 0.3);
        }
        
        .current-info {
            flex: 1;
        }
        
        .current-channel {
            font-size: 22px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 5px;
        }
        
        .current-category {
            font-size: 14px;
            color: #8899aa;
            background: rgba(136, 153, 170, 0.1);
            padding: 4px 12px;
            border-radius: 15px;
            display: inline-block;
        }
        
        /* Video Player Alanƒ± - PROFESYONEL */
        #videoPlayer {
            width: 100%;
            background: #000;
            position: relative;
            aspect-ratio: 16/9;
            max-height: 75vh;
            min-height: 400px;
        }
        
        #customVideoPlayer {
            width: 100%;
            height: 100%;
            background: #000;
            position: relative;
        }
        
        #customVideoPlayer video {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .player-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #1a2433, #151d29);
            z-index: 1;
        }
        
        .player-placeholder.hidden {
            display: none;
        }
        
        .player-placeholder-icon {
            font-size: 80px;
            margin-bottom: 20px;
            opacity: 0.7;
        }
        
        .player-placeholder-text {
            font-size: 20px;
            font-weight: 600;
            color: #8899aa;
            margin-bottom: 30px;
        }
        
        .player-placeholder-btn {
            background: linear-gradient(135deg, #00a8ff, #0077cc);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }
        
        .player-placeholder-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 168, 255, 0.4);
        }
        
        /* Video Player Kontrolleri - GELƒ∞≈ûMƒ∞≈û */
        .player-controls {
            padding: 25px;
            background: linear-gradient(90deg, #2a3444, #1a2433);
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
            border-top: 2px solid #2a3444;
        }
        
        .control-btn {
            background: rgba(58, 68, 84, 0.9);
            backdrop-filter: blur(15px);
            border: none;
            color: white;
            padding: 14px 24px;
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            transition: all 0.3s ease;
            min-width: 70px;
            justify-content: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .control-btn:hover {
            background: #00a8ff;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 168, 255, 0.3);
        }
        
        .control-btn:active {
            transform: translateY(-1px);
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
            min-width: 180px;
        }
        
        .volume-slider {
            width: 120px;
            height: 8px;
            -webkit-appearance: none;
            background: linear-gradient(90deg, #00a8ff 0%, #3a4454 100%);
            border-radius: 4px;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            background: #00a8ff;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 3px 10px rgba(0, 168, 255, 0.5);
        }
        
        .volume-slider::-moz-range-thumb {
            width: 22px;
            height: 22px;
            background: #00a8ff;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 3px 10px rgba(0, 168, 255, 0.5);
        }
        
        .time-display {
            color: #8899aa;
            font-size: 15px;
            font-weight: 700;
            min-width: 140px;
            background: rgba(42, 52, 68, 0.5);
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid #3a4454;
        }
        
        .quality-selector {
            margin-left: auto;
        }
        
        /* IPTV √ñZELLƒ∞KLERƒ∞ - ZENGƒ∞N */
        .iptv-features {
            padding: 25px;
            background: #1a2433;
            border-top: 2px solid #2a3444;
        }
        
        .feature-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .feature-btn {
            background: rgba(42, 52, 68, 0.9);
            backdrop-filter: blur(15px);
            border: 1px solid #3a4454;
            color: white;
            padding: 12px 22px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }
        
        .feature-btn:hover {
            background: #00a8ff;
            border-color: #00a8ff;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 168, 255, 0.3);
        }
        
        /* YAYIN Bƒ∞LGƒ∞Sƒ∞ - DETAYLI */
        .stream-info {
            margin-top: 25px;
            padding: 20px;
            background: rgba(42, 52, 68, 0.6);
            border-radius: 15px;
            font-size: 14px;
            color: #8899aa;
            border: 1px solid #3a4454;
            backdrop-filter: blur(10px);
        }
        
        .stream-info-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(136, 153, 170, 0.2);
            align-items: center;
        }
        
        .stream-info-row:last-child {
            border-bottom: none;
        }
        
        .stream-info-label {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }
        
        .stream-info-value {
            font-weight: 700;
            color: #ffffff;
            max-width: 60%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        /* KATEGORƒ∞LER - MODERN */
        .categories {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 30px;
            padding: 0 5px;
        }
        
        .category-btn {
            padding: 14px 28px;
            background: rgba(42, 52, 68, 0.9);
            backdrop-filter: blur(15px);
            border: none;
            border-radius: 30px;
            color: #fff;
            cursor: pointer;
            font-size: 15px;
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .category-btn.active {
            background: linear-gradient(135deg, #00a8ff, #0077cc);
            border-color: #00a8ff;
            box-shadow: 0 8px 25px rgba(0, 168, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .category-btn:hover:not(.active) {
            border-color: #3a4454;
            transform: translateY(-2px);
            background: rgba(58, 68, 84, 0.9);
        }
        
        /* FOOTER - PROFESYONEL */
        footer {
            background: linear-gradient(135deg, #1a2433 0%, #0f1419 100%);
            padding: 40px 0 30px;
            margin-top: 60px;
            border-top: 2px solid #2a3444;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }
        
        .footer-section h3 {
            color: #00a8ff;
            margin-bottom: 20px;
            font-size: 20px;
            font-weight: 800;
        }
        
        .footer-section p {
            color: #8899aa;
            line-height: 1.7;
            font-size: 15px;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 25px;
            border-top: 1px solid #2a3444;
            color: #8899aa;
            font-size: 14px;
        }
        
        /* NOTIFICATION - MODERN */
        .notification {
            position: fixed;
            top: 25px;
            right: 25px;
            padding: 18px 28px;
            border-radius: 12px;
            color: white;
            font-weight: 700;
            z-index: 3000;
            animation: slideInRight 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 350px;
            backdrop-filter: blur(15px);
            border-left: 5px solid;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100%) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0) translateY(0);
            }
        }
        
        .notification.success {
            background: rgba(76, 217, 100, 0.95);
            border-left-color: #4cd964;
        }
        
        .notification.error {
            background: rgba(255, 71, 87, 0.95);
            border-left-color: #ff4757;
        }
        
        .notification.info {
            background: rgba(0, 168, 255, 0.95);
            border-left-color: #00a8ff;
        }
        
        /* LOADER - MODERN */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 20, 25, 0.98);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 4000;
            backdrop-filter: blur(15px);
        }
        
        .loader-spinner {
            width: 70px;
            height: 70px;
            border: 5px solid rgba(0, 168, 255, 0.2);
            border-top: 5px solid #00a8ff;
            border-radius: 50%;
            animation: spin 1.2s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ADMIN PANEL - RESPONSIVE */
        .admin-panel {
            display: none;
            min-height: 100vh;
            background: #0f1419;
            color: #fff;
        }
        
        .admin-nav {
            background: #1a2433;
            padding: 18px;
            display: flex;
            gap: 12px;
            border-bottom: 2px solid #00a8ff;
            flex-wrap: wrap;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .admin-nav button {
            background: none;
            border: none;
            color: #fff;
            padding: 12px 24px;
            cursor: pointer;
            border-radius: 10px;
            font-weight: 700;
            transition: all 0.3s ease;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .admin-nav button.active {
            background: #00a8ff;
        }
        
        .admin-nav button:hover:not(.active) {
            background: rgba(0, 168, 255, 0.1);
        }
        
        .admin-section {
            display: none;
            padding: 25px;
            color: #fff;
        }
        
        .admin-section.active {
            display: block;
        }
        
        .data-table {
            width: 100%;
            background: #1a2433;
            border-radius: 15px;
            overflow: hidden;
            margin-top: 25px;
            border-collapse: collapse;
            font-size: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            color: #fff;
        }
        
        .data-table th {
            background: #2a3444;
            padding: 18px 20px;
            text-align: left;
            font-weight: 800;
            font-size: 15px;
            border-bottom: 2px solid #00a8ff;
            color: #fff;
        }
        
        .data-table td {
            padding: 15px 20px;
            border-bottom: 1px solid #2a3444;
            color: #fff;
        }
        
        .data-table tr:hover {
            background: rgba(0, 168, 255, 0.05);
        }
        
        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 700;
            margin-right: 8px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .edit-btn {
            background: #00a8ff;
            color: white;
        }
        
        .delete-btn {
            background: #ff4757;
            color: white;
        }
        
        .view-btn {
            background: #4cd964;
            color: white;
        }
        
        .toggle-btn {
            background: #ff9500;
            color: white;
        }
        
        .bulk-delete-btn {
            background: #ff4757;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .status-active {
            color: #4cd964;
            font-weight: 800;
        }
        
        .status-inactive {
            color: #ff9500;
        }
        
        .status-banned {
            color: #ff4757;
        }
        
        /* CHECKBOX STYLE */
        .select-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        /* BULK ACTIONS BAR */
        .bulk-actions-bar {
            display: none;
            background: #2a3444;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            border: 1px solid #3a4454;
        }
        
        .bulk-actions-bar.active {
            display: flex;
        }
        
        .selected-count {
            font-weight: 700;
            color: #00a8ff;
            background: rgba(0, 168, 255, 0.1);
            padding: 5px 15px;
            border-radius: 20px;
        }
        
        /* MODALLAR - MODERN */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(8px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-y: auto;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background: linear-gradient(145deg, #1a2433, #151d29);
            padding: 35px;
            border-radius: 20px;
            width: 100%;
            max-width: 550px;
            border: 2px solid #2a3444;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.6);
            animation: modalSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-40px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .modal-header {
            margin-bottom: 30px;
            color: #00a8ff;
            text-align: center;
        }
        
        .modal-header h3 {
            font-size: 26px;
            font-weight: 800;
            color: #fff;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: #8899aa;
            float: right;
            cursor: pointer;
            font-size: 28px;
            position: absolute;
            right: 25px;
            top: 25px;
            transition: color 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(42, 52, 68, 0.5);
        }
        
        .close-btn:hover {
            color: #00a8ff;
            background: rgba(0, 168, 255, 0.1);
        }
        
        /* FORM STILLERƒ∞ */
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            color: #ffffff;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            display: block;
        }
        
        .form-control {
            width: 100%;
            padding: 15px;
            background: #2a3444;
            border: 2px solid #3a4454;
            border-radius: 12px;
            color: white;
            font-size: 16px;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #00a8ff;
        }
        
        /* IMPORT/EXPORT STYLES */
        .import-export-section {
            background: rgba(42, 52, 68, 0.5);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            border: 1px solid #3a4454;
        }
        
        .import-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .option-card {
            background: #2a3444;
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            text-align: center;
        }
        
        .option-card:hover {
            border-color: #00a8ff;
            transform: translateY(-3px);
            background: #2a3444;
        }
        
        .option-card.active {
            border-color: #00a8ff;
            background: rgba(0, 168, 255, 0.1);
        }
        
        .option-icon {
            font-size: 40px;
            margin-bottom: 15px;
            display: block;
        }
        
        .option-title {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 8px;
        }
        
        .option-desc {
            font-size: 13px;
            color: #8899aa;
            line-height: 1.5;
        }
        
        /* PROGRESS BAR */
        .progress-container {
            margin: 20px 0;
            display: none;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #2a3444;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00a8ff, #0077cc);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #8899aa;
        }
        
        /* M3U8 PREVIEW */
        .m3u8-preview {
            background: #2a3444;
            border-radius: 10px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
            margin: 15px 0;
            display: none;
        }
        
        .preview-item {
            padding: 10px;
            border-bottom: 1px solid #3a4454;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .preview-item:last-child {
            border-bottom: none;
        }
        
        /* RESPONSIVE BREAKPOINTS */
        @media (max-width: 768px) {
            .player-controls {
                justify-content: center;
            }
            
            .quality-selector {
                margin-left: 0;
                width: 100%;
                text-align: center;
                margin-top: 15px;
            }
            
            .feature-buttons {
                justify-content: center;
            }
            
            #videoPlayer {
                min-height: 300px;
            }
            
            .admin-nav {
                flex-direction: column;
            }
            
            .admin-nav button {
                width: 100%;
                justify-content: center;
            }
            
            .data-table {
                font-size: 14px;
            }
            
            .data-table th,
            .data-table td {
                padding: 12px 15px;
            }
            
            .bulk-actions-bar {
                flex-direction: column;
                align-items: flex-start;
            }
        }
        
        @media (max-width: 480px) {
            #videoPlayer {
                min-height: 250px;
            }
            
            .modal-content {
                padding: 25px;
            }
            
            .import-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
    
    <!-- HLS.js K√ºt√ºphanesi -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.10/dist/hls.min.js"></script>
</head>
<body>
    <!-- LOADER -->
    <div class="loader" id="loader">
        <div class="loader-spinner"></div>
    </div>

    <!-- Gƒ∞Rƒ∞≈û MODAL -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <button class="close-btn" id="closeLoginModal" aria-label="Kapat">√ó</button>
            <div class="modal-header">
                <h3>üîê Y√∂netici Giri≈üi</h3>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label>Kullanƒ±cƒ± Adƒ±</label>
                    <input type="text" id="loginUsername" class="form-control" placeholder="Kullanƒ±cƒ± adƒ±nƒ±z" required>
                </div>
                <div class="form-group">
                    <label>≈ûifre</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="≈ûifreniz" required>
                </div>
                <button type="submit" class="header-btn primary" style="width: 100%; padding: 18px; font-size: 17px;">
                    <span>üîë</span> Gƒ∞Rƒ∞≈û YAP
                </button>
            </form>
            <div style="margin-top: 20px; text-align: center;">
                <p style="color: #8899aa; font-size: 14px;">
                    <strong>Demo Kullanƒ±cƒ±:</strong> admin / admin123
                </p>
            </div>
        </div>
    </div>

    <!-- ANA SAYFA -->
    <div id="mainApp">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <span class="logo-icon">üì∫</span>
                        <span>Canlƒ± TV Pro</span>
                    </div>
                    
                    <div class="header-buttons" id="headerButtons">
                        <button class="header-btn" id="refreshBtn">
                            <span>üîÑ</span> Yenile
                        </button>
                        <button class="header-btn" id="helpBtn">
                            <span>‚ùì</span> Yardƒ±m
                        </button>
                        <button class="header-btn primary" id="adminBtn">
                            <span>‚öôÔ∏è</span> Y√∂netim Paneli
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <main class="main-content container">
            <!-- Kategoriler -->
            <div class="categories">
                <button class="category-btn active" data-category="all">
                    <span>üì∫</span> T√ºm Kanallar
                </button>
                <button class="category-btn" data-category="news">
                    <span>üì∞</span> Haber
                </button>
                <button class="category-btn" data-category="sport">
                    <span>‚öΩ</span> Spor
                </button>
                <button class="category-btn" data-category="entertainment">
                    <span>üé¨</span> Eƒülence
                </button>
                <button class="category-btn" data-category="movie">
                    <span>üé•</span> Sinema
                </button>
            </div>

            <!-- GELƒ∞≈ûMƒ∞≈û MEDYA OYNATICI -->
            <div class="media-player-container">
                <div class="player-header">
                    <div class="channel-info">
                        <div class="current-logo" id="currentLogo">TV</div>
                        <div class="current-info">
                            <div class="current-channel" id="currentChannel">Kanal Se√ßin</div>
                            <div class="current-category" id="currentCategory">-</div>
                        </div>
                    </div>
                    <div class="quality-selector">
                        <select id="qualitySelect" class="feature-btn">
                            <option value="auto">üéØ Otomatik Kalite</option>
                        </select>
                    </div>
                </div>
                
                <!-- Video Player -->
                <div id="videoPlayer">
                    <div id="customVideoPlayer">
                        <video id="videoElement" controls preload="auto" style="width:100%; height:100%;">
                            Tarayƒ±cƒ±nƒ±z video etiketini desteklemiyor. L√ºtfen g√ºncel bir tarayƒ±cƒ± kullanƒ±n.
                        </video>
                        <div class="player-placeholder" id="playerPlaceholder">
                            <div class="player-placeholder-icon">üì∫</div>
                            <div class="player-placeholder-text">Bir kanal se√ßerek izlemeye ba≈ülayƒ±n</div>
                            <button class="player-placeholder-btn" id="testStreamBtn">
                                <span>‚ñ∂Ô∏è</span> Test Stream Ba≈ülat
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Oynatƒ±cƒ± Kontrolleri -->
                <div class="player-controls">
                    <button class="control-btn" id="playPauseBtn" aria-label="Oynat/Duraklat">
                        <span>‚ñ∂Ô∏è</span> Oynat
                    </button>
                    <button class="control-btn" id="stopBtn" aria-label="Dur">
                        <span>‚èπÔ∏è</span> Dur
                    </button>
                    <button class="control-btn" id="muteBtn" aria-label="Ses A√ß/Kapa">
                        <span>üîä</span> Ses
                    </button>
                    
                    <div class="volume-control">
                        <span>üîä</span>
                        <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.1" value="1" aria-label="Ses Seviyesi">
                    </div>
                    
                    <div class="time-display">
                        <span id="currentTime">00:00</span> / <span id="duration">00:00</span>
                    </div>
                    
                    <button class="control-btn" id="fullscreenBtn" aria-label="Tam Ekran">
                        <span>‚õ∂</span> Tam Ekran
                    </button>
                </div>
                
                <!-- IPTV √ñZELLƒ∞KLERƒ∞ -->
                <div class="iptv-features">
                    <div class="feature-buttons">
                        <button class="feature-btn" id="speedBtn" aria-label="Oynatma Hƒ±zƒ±">
                            <span>‚ö°</span> Hƒ±z: 1x
                        </button>
                        <button class="feature-btn" id="repeatBtn" aria-label="Tekrarla">
                            <span>üîÅ</span> Tekrarla
                        </button>
                        <button class="feature-btn" id="favoriteBtn" aria-label="Favorilere Ekle">
                            <span>‚≠ê</span> Favoriler
                        </button>
                    </div>
                    
                    <div class="stream-info">
                        <div class="stream-info-row">
                            <span class="stream-info-label">
                                <span>üì∂</span> Yayƒ±n Durumu:
                            </span>
                            <span class="stream-info-value" id="streamStatus">Hazƒ±r</span>
                        </div>
                        <div class="stream-info-row">
                            <span class="stream-info-label">
                                <span>üîó</span> Stream Format:
                            </span>
                            <span class="stream-info-value" id="streamFormat">-</span>
                        </div>
                        <div class="stream-info-row">
                            <span class="stream-info-label">
                                <span>‚öôÔ∏è</span> √á√∂z√ºn√ºrl√ºk:
                            </span>
                            <span class="stream-info-value" id="streamResolution">Auto</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- KANALLAR -->
            <h2 class="section-title" id="channelsTitle">
                <span class="section-title-icon">üì°</span>
                Premium Kanallar
            </h2>
            <div class="channel-grid" id="channelsContainer">
                <!-- Kanallar buraya eklenecek -->
            </div>

            <!-- KANAL ƒ∞STATƒ∞STƒ∞KLERƒ∞ -->
            <div class="stream-info" style="margin-top: 50px;">
                <div class="stream-info-row">
                    <span class="stream-info-label">
                        <span>üìä</span> Toplam Kanal:
                    </span>
                    <span class="stream-info-value" id="totalChannels">0</span>
                </div>
                <div class="stream-info-row">
                    <span class="stream-info-label">
                        <span>üéØ</span> Aktif Kategori:
                    </span>
                    <span class="stream-info-value" id="activeCategory">T√ºm Kanallar</span>
                </div>
                <div class="stream-info-row">
                    <span class="stream-info-label">
                        <span>‚è±Ô∏è</span> Son G√ºncelleme:
                    </span>
                    <span class="stream-info-value" id="lastUpdate">-</span>
                </div>
            </div>
        </main>

        <footer>
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h3>üéØ Premium IPTV</h3>
                        <p>Y√ºksek kaliteli ve kesintisiz TV yayƒ±nlarƒ±. 4K destekli, t√ºm cihazlarda uyumlu.</p>
                    </div>
                    <div class="footer-section">
                        <h3>üì± √áoklu Cihaz</h3>
                        <p>Telefon, tablet, bilgisayar ve akƒ±llƒ± TV'lerde sorunsuz √ßalƒ±≈üƒ±r.</p>
                    </div>
                    <div class="footer-section">
                        <h3>‚ö° Hƒ±zlƒ± & Kararlƒ±</h3>
                        <p>Y√ºksek hƒ±zlƒ± sunucular ile gecikmesiz yayƒ±n keyfi.</p>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>¬© 2024 Canlƒ± TV Pro - Premium IPTV √á√∂z√ºm√º</p>
                    <p>v3.0 | T√ºm haklarƒ± saklƒ±dƒ±r</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- ADMIN PANEL -->
    <div id="adminPanel" class="admin-panel">
        <div class="admin-nav">
            <button class="active" data-section="dashboard">
                <span>üìä</span> Panel
            </button>
            <button data-section="channels">
                <span>üì∫</span> Kanallar
            </button>
            <button data-section="categories">
                <span>üè∑Ô∏è</span> Kategoriler
            </button>
            <button data-section="users">
                <span>üë•</span> Kullanƒ±cƒ±lar
            </button>
            <button id="adminLogout" style="margin-left: auto;">
                <span>üö™</span> √áƒ±kƒ±≈ü
            </button>
        </div>

        <div class="container">
            <!-- Dashboard -->
            <div id="dashboard" class="admin-section active">
                <h2 class="section-title">Y√∂netim Paneli</h2>
                <p style="color: #ffffff; margin-bottom: 30px; font-size: 16px;">Sistemi buradan y√∂netebilirsiniz. T√ºm istatistikler ger√ßek zamanlƒ± g√ºncellenir.</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 25px; margin: 30px 0;">
                    <div style="background: linear-gradient(135deg, #1a2433, #151d29); padding: 25px; border-radius: 16px; text-align: center; border: 2px solid #2a3444; box-shadow: 0 8px 25px rgba(0,0,0,0.2);">
                        <div style="font-size: 42px; color: #00a8ff; margin-bottom: 15px;" id="statChannels">0</div>
                        <div style="font-size: 18px; font-weight: 700; color: #ffffff;">Kanal</div>
                        <div style="color: #ffffff; font-size: 14px; margin-top: 5px;">Aktif</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #1a2433, #151d29); padding: 25px; border-radius: 16px; text-align: center; border: 2px solid #2a3444; box-shadow: 0 8px 25px rgba(0,0,0,0.2);">
                        <div style="font-size: 42px; color: #4cd964; margin-bottom: 15px;" id="statCategories">0</div>
                        <div style="font-size: 18px; font-weight: 700; color: #ffffff;">Kategori</div>
                        <div style="color: #ffffff; font-size: 14px; margin-top: 5px;">Mevcut</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #1a2433, #151d29); padding: 25px; border-radius: 16px; text-align: center; border: 2px solid #2a3444; box-shadow: 0 8px 25px rgba(0,0,0,0.2);">
                        <div style="font-size: 42px; color: #ff9500; margin-bottom: 15px;" id="statUsers">0</div>
                        <div style="font-size: 18px; font-weight: 700; color: #ffffff;">Kullanƒ±cƒ±</div>
                        <div style="color: #ffffff; font-size: 14px; margin-top: 5px;">Kayƒ±tlƒ±</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #1a2433, #151d29); padding: 25px; border-radius: 16px; text-align: center; border: 2px solid #2a3444; box-shadow: 0 8px 25px rgba(0,0,0,0.2);">
                        <div style="font-size: 42px; color: #ff6b9d; margin-bottom: 15px;" id="statLive">0</div>
                        <div style="font-size: 18px; font-weight: 700; color: #ffffff;">Canlƒ±</div>
                        <div style="color: #ffffff; font-size: 14px; margin-top: 5px;">ƒ∞zleniyor</div>
                    </div>
                </div>
                
                <div style="background: linear-gradient(145deg, #1a2433, #151d29); padding: 25px; border-radius: 16px; margin-top: 40px; border: 2px solid #2a3444;">
                    <h3 style="color: #00a8ff; margin-bottom: 20px; font-size: 20px;">‚ö° Hƒ±zlƒ± Eri≈üim</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                        <button class="header-btn" id="quickAddChannel" style="width: 100%; justify-content: center;">
                            <span>‚ûï</span> Kanal Ekle
                        </button>
                        <button class="header-btn" id="quickAddCategory" style="width: 100%; justify-content: center;">
                            <span>üè∑Ô∏è</span> Kategori Ekle
                        </button>
                        <button class="header-btn primary" id="quickAddUser" style="width: 100%; justify-content: center;">
                            <span>üë§</span> Kullanƒ±cƒ± Ekle
                        </button>
                    </div>
                </div>
            </div>

            <!-- Kanallar -->
            <div id="channels" class="admin-section">
                <h2 class="section-title">Kanal Y√∂netimi</h2>
                
                <!-- Toplu ƒ∞≈ülemler Bar -->
                <div class="bulk-actions-bar" id="bulkActionsBar">
                    <div class="selected-count" id="selectedCount">0 kanal se√ßildi</div>
                    <button class="header-btn" id="selectAllBtn">
                        <span>‚úÖ</span> T√ºm√ºn√º Se√ß
                    </button>
                    <button class="header-btn" id="deselectAllBtn">
                        <span>‚ùå</span> Se√ßimi Temizle
                    </button>
                    <button class="bulk-delete-btn" id="bulkDeleteBtn">
                        <span>üóëÔ∏è</span> Se√ßilenleri Sil
                    </button>
                </div>
                
                <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 25px;">
                    <button class="header-btn primary" id="addChannelBtn">
                        <span>‚ûï</span> Yeni Kanal
                    </button>
                    <button class="header-btn" id="importChannelsBtn">
                        <span>üì•</span> M3U8 ƒ∞√ße Aktar
                    </button>
                    <button class="header-btn" id="exportChannelsBtn">
                        <span>üì§</span> Kanal Dƒ±≈üa Aktar
                    </button>
                    <button class="header-btn" id="selectChannelsBtn">
                        <span>üìã</span> Toplu ƒ∞≈ülem
                    </button>
                </div>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th style="width: 40px;">
                                <input type="checkbox" id="selectAllCheckbox" class="select-checkbox">
                            </th>
                            <th>Kanal Adƒ±</th>
                            <th>Kategori</th>
                            <th>Logo</th>
                            <th>Durum</th>
                            <th>ƒ∞≈ülem</th>
                        </tr>
                    </thead>
                    <tbody id="channelsTable">
                        <!-- Kanallar buraya eklenecek -->
                    </tbody>
                </table>
            </div>

            <!-- Kategoriler -->
            <div id="categories" class="admin-section">
                <h2 class="section-title">Kategori Y√∂netimi</h2>
                <button class="header-btn primary" id="addCategoryBtn" style="margin-bottom: 25px;">
                    <span>‚ûï</span> Yeni Kategori
                </button>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Kategori Adƒ±</th>
                            <th>Kanal Sayƒ±sƒ±</th>
                            <th>Renk</th>
                            <th>ƒ∞≈ülem</th>
                        </tr>
                    </thead>
                    <tbody id="categoriesTable">
                        <!-- Kategoriler buraya eklenecek -->
                    </tbody>
                </table>
            </div>

            <!-- Kullanƒ±cƒ±lar -->
            <div id="users" class="admin-section">
                <h2 class="section-title">Kullanƒ±cƒ± Y√∂netimi</h2>
                <button class="header-btn primary" id="addUserBtn" style="margin-bottom: 25px;">
                    <span>‚ûï</span> Yeni Kullanƒ±cƒ±
                </button>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Kullanƒ±cƒ± Adƒ±</th>
                            <th>E-posta</th>
                            <th>Rol</th>
                            <th>Durum</th>
                            <th>Son Giri≈ü</th>
                            <th>ƒ∞≈ülem</th>
                        </tr>
                    </thead>
                    <tbody id="usersTable">
                        <!-- Kullanƒ±cƒ±lar buraya eklenecek -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- MODALLAR -->
    <!-- Kanal Modal -->
    <div class="modal" id="channelModal">
        <div class="modal-content">
            <button class="close-btn" id="closeChannelModal" aria-label="Kapat">√ó</button>
            <div class="modal-header">
                <h3 id="channelModalTitle">Yeni Kanal Ekle</h3>
            </div>
            <form id="channelForm">
                <div class="form-group">
                    <label>Kanal Adƒ±</label>
                    <input type="text" id="channelName" class="form-control" placeholder="√ñrnek: TRT 1" required>
                </div>
                <div class="form-group">
                    <label>Kategori</label>
                    <select id="channelCategory" class="form-control" required>
                        <option value="">Kategori Se√ßin</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Logo Metni (3 harf)</label>
                    <input type="text" id="channelLogo" class="form-control" placeholder="TRT" maxlength="3" required>
                </div>
                <div class="form-group">
                    <label>Stream URL</label>
                    <input type="text" id="streamUrlModal" class="form-control" placeholder="https://example.com/stream.m3u8" required>
                </div>
                <div class="form-group">
                    <label>Stream Tipi</label>
                    <select id="streamTypeModal" class="form-control" required>
                        <option value="hls">HLS (m3u8)</option>
                        <option value="mp4">MP4</option>
                        <option value="mpeg-dash">MPEG-DASH</option>
                        <option value="rtmp">RTMP</option>
                    </select>
                </div>
                <button type="submit" class="header-btn primary" style="width: 100%; padding: 18px; font-size: 17px;">
                    <span>üíæ</span> KANALI KAYDET
                </button>
            </form>
        </div>
    </div>

    <!-- ƒ∞√ße/Dƒ±≈üa Aktarma Modal -->
    <div class="modal" id="importExportModal">
        <div class="modal-content" style="max-width: 700px;">
            <button class="close-btn" id="closeImportExportModal" aria-label="Kapat">√ó</button>
            <div class="modal-header">
                <h3 id="importExportModalTitle">Kanallarƒ± ƒ∞√ße/Dƒ±≈üa Aktar</h3>
            </div>
            
            <div class="import-export-section">
                <div class="import-options">
                    <div class="option-card active" data-type="import-m3u8">
                        <span class="option-icon">üì•</span>
                        <div class="option-title">M3U8 ƒ∞√ße Aktar</div>
                        <div class="option-desc">M3U8 dosyasƒ±ndan kanal listesi i√ße aktar</div>
                    </div>
                    <div class="option-card" data-type="import-txt">
                        <span class="option-icon">üìÑ</span>
                        <div class="option-title">TXT ƒ∞√ße Aktar</div>
                        <div class="option-desc">TXT dosyasƒ±ndan kanal listesi i√ße aktar</div>
                    </div>
                    <div class="option-card" data-type="export-m3u8">
                        <span class="option-icon">üì§</span>
                        <div class="option-title">M3U8 Dƒ±≈üa Aktar</div>
                        <div class="option-desc">Kanallarƒ± M3U8 formatƒ±nda indir</div>
                    </div>
                    <div class="option-card" data-type="export-json">
                        <span class="option-icon">üìã</span>
                        <div class="option-title">JSON Dƒ±≈üa Aktar</div>
                        <div class="option-desc">Kanallarƒ± JSON formatƒ±nda indir</div>
                    </div>
                </div>
                
                <!-- M3U8/TXT ƒ∞√ße Aktarma Alanƒ± -->
                <div id="importArea">
                    <div class="form-group">
                        <label>M3U8/TXT Dosyasƒ±</label>
                        <input type="file" id="importFile" class="form-control" accept=".m3u8,.txt,.json">
                    </div>
                    
                    <div class="form-group">
                        <label>Veya M3U8 URL'si</label>
                        <input type="text" id="importUrl" class="form-control" placeholder="https://example.com/playlist.m3u8">
                    </div>
                    
                    <div class="form-group">
                        <label>ƒ∞√ße Aktarma Se√ßenekleri</label>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="radio" name="importOption" value="append" checked>
                                <span>Mevcut listeye ekle</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="radio" name="importOption" value="replace">
                                <span>Mevcut listeyi deƒüi≈ütir</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="skipDuplicates" checked>
                                <span>Tekrar eden kanallarƒ± atla</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="m3u8-preview" id="m3u8Preview">
                        <!-- √ñnizleme buraya eklenecek -->
                    </div>
                    
                    <div class="progress-container" id="importProgress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="importProgressFill"></div>
                        </div>
                        <div class="progress-text">
                            <span id="importProgressText">0/0</span>
                            <span id="importProgressPercent">0%</span>
                        </div>
                    </div>
                    
                    <button class="header-btn primary" id="startImportBtn" style="width: 100%;">
                        <span>üöÄ</span> ƒ∞√áE AKTARMAYI BA≈ûLAT
                    </button>
                </div>
                
                <!-- Dƒ±≈üa Aktarma Alanƒ± -->
                <div id="exportArea" style="display: none;">
                    <div class="form-group">
                        <label>Dƒ±≈üa Aktarma Formatƒ±</label>
                        <select id="exportFormat" class="form-control">
                            <option value="m3u8">M3U8 Playlist</option>
                            <option value="json">JSON Formatƒ±</option>
                            <option value="txt">TXT Listesi</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Dƒ±≈üa Aktarma Se√ßenekleri</label>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="exportAllChannels" checked>
                                <span>T√ºm kanallarƒ± dƒ±≈üa aktar</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="exportWithMetadata">
                                <span>Kanal meta verilerini ekle</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="exportCategories">
                                <span>Kategorileri ekle</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group" id="exportCategoriesSelect" style="display: none;">
                        <label>Kategorileri Se√ßin</label>
                        <div id="exportCategoriesList" style="max-height: 200px; overflow-y: auto; background: #2a3444; padding: 15px; border-radius: 8px;">
                            <!-- Kategoriler buraya eklenecek -->
                        </div>
                    </div>
                    
                    <div class="progress-container" id="exportProgress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="exportProgressFill"></div>
                        </div>
                        <div class="progress-text">
                            <span id="exportProgressText">Hazƒ±rlanƒ±yor...</span>
                            <span id="exportProgressPercent">0%</span>
                        </div>
                    </div>
                    
                    <button class="header-btn primary" id="startExportBtn" style="width: 100%;">
                        <span>üì•</span> DI≈ûA AKTARMAYI BA≈ûLAT
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Kategori Modal -->
    <div class="modal" id="categoryModal">
        <div class="modal-content">
            <button class="close-btn" id="closeCategoryModal" aria-label="Kapat">√ó</button>
            <div class="modal-header">
                <h3>Yeni Kategori Ekle</h3>
            </div>
            <form id="categoryForm">
                <div class="form-group">
                    <label>Kategori Adƒ±</label>
                    <input type="text" id="categoryName" class="form-control" placeholder="√ñrnek: Haber" required>
                </div>
                <button type="submit" class="header-btn primary" style="width: 100%; padding: 18px; font-size: 17px;">
                    <span>üíæ</span> KATEGORƒ∞Yƒ∞ KAYDET
                </button>
            </form>
        </div>
    </div>

    <!-- Kullanƒ±cƒ± Modal -->
    <div class="modal" id="userModal">
        <div class="modal-content">
            <button class="close-btn" id="closeUserModal" aria-label="Kapat">√ó</button>
            <div class="modal-header">
                <h3 id="userModalTitle">Yeni Kullanƒ±cƒ±</h3>
            </div>
            <form id="userForm">
                <div class="form-group">
                    <label>Kullanƒ±cƒ± Adƒ±</label>
                    <input type="text" id="userUsername" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>E-posta</label>
                    <input type="email" id="userEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>≈ûifre</label>
                    <input type="password" id="userPassword" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Rol</label>
                    <select id="userRole" class="form-control" required>
                        <option value="user">Kullanƒ±cƒ±</option>
                        <option value="moderator">Moderat√∂r</option>
                        <option value="admin">Y√∂netici</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Durum</label>
                    <select id="userStatus" class="form-control" required>
                        <option value="active">Aktif</option>
                        <option value="inactive">Pasif</option>
                        <option value="banned">Yasaklƒ±</option>
                    </select>
                </div>
                <button type="submit" class="header-btn primary" style="width: 100%; padding: 18px; font-size: 17px;">
                    <span>üíæ</span> KULLANICIYI KAYDET
                </button>
            </form>
        </div>
    </div>

    <!-- Toplu Silme Onay Modal -->
    <div class="modal" id="bulkDeleteModal">
        <div class="modal-content" style="max-width: 500px;">
            <button class="close-btn" id="closeBulkDeleteModal" aria-label="Kapat">√ó</button>
            <div class="modal-header">
                <h3>‚ö†Ô∏è Toplu Silme Onayƒ±</h3>
            </div>
            <div style="text-align: center; padding: 20px 0;">
                <div style="font-size: 60px; margin-bottom: 20px;">üóëÔ∏è</div>
                <p style="font-size: 18px; margin-bottom: 20px;" id="bulkDeleteMessage">
                    Se√ßilen kanallarƒ± silmek istediƒüinize emin misiniz?
                </p>
                <p style="color: #ff4757; font-size: 14px; margin-bottom: 30px;">
                    ‚ö†Ô∏è Bu i≈ülem geri alƒ±namaz!
                </p>
                <div style="display: flex; gap: 15px;">
                    <button class="header-btn" id="cancelBulkDeleteBtn" style="flex: 1;">
                        <span>‚ùå</span> ƒ∞ptal
                    </button>
                    <button class="header-btn primary" id="confirmBulkDeleteBtn" style="flex: 1; background: #ff4757;">
                        <span>üóëÔ∏è</span> Sƒ∞L
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // G√úVENLƒ∞ TEST STREAM URL'LERƒ∞
        const TEST_STREAMS = {
            'hls': [
                'https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8',
                'https://bitdash-a.akamaihd.net/s/content/media/m3u8/test.m3u8',
                'https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.ism/.m3u8',
                'https://d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8',
                'https://content.jwplatform.com/manifests/vM7nH0Kl.m3u8',
            ],
            'dash': [
                'https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd',
                'https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd',
            ],
            'mp4': [
                'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
                'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',
                'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',
            ]
        };

        // LOCAL STORAGE ƒ∞≈ûLEMLERƒ∞
        const STORAGE_KEYS = {
            CHANNELS: 'canlitv_channels',
            CATEGORIES: 'canlitv_categories',
            USERS: 'canlitv_users',
            FAVORITES: 'canlitv_favorites'
        };

        // VERƒ∞ Y√úKLEME FONKSƒ∞YONLARI
        function loadData() {
            return {
                channels: loadChannels(),
                categories: loadCategories(),
                users: loadUsers()
            };
        }

        function loadChannels() {
            try {
                const saved = localStorage.getItem(STORAGE_KEYS.CHANNELS);
                if (saved) {
                    return JSON.parse(saved);
                }
            } catch (e) {
                console.error('Kanallar y√ºklenirken hata:', e);
            }
            
            // Varsayƒ±lan test kanallarƒ± - D√úZG√úN KANALLAR
            return [
                {
                    id: 1, 
                    name: "TRT 1 Test", 
                    category: "news", 
                    logo: "TRT", 
                    url: "https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8", 
                    type: "hls", 
                    isLive: true,
                    description: "Y√ºksek kaliteli HLS test stream"
                },
                {
                    id: 2, 
                    name: "Show TV Demo", 
                    category: "entertainment", 
                    logo: "SHW", 
                    url: "https://bitdash-a.akamaihd.net/s/content/media/m3u8/test.m3u8", 
                    type: "hls", 
                    isLive: true,
                    description: "Bitdash test stream"
                },
                {
                    id: 3,
                    name: "Spor Kanalƒ±",
                    category: "sport",
                    logo: "SPR",
                    url: "https://d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8",
                    type: "hls",
                    isLive: true,
                    description: "Spor yayƒ±nƒ± test"
                }
            ];
        }

        function loadCategories() {
            try {
                const saved = localStorage.getItem(STORAGE_KEYS.CATEGORIES);
                if (saved) {
                    return JSON.parse(saved);
                }
            } catch (e) {
                console.error('Kategoriler y√ºklenirken hata:', e);
            }
            
            // Varsayƒ±lan kategoriler
            return [
                {id: 1, name: "Haber", key: "news", count: 1, color: "#00a8ff"},
                {id: 2, name: "Spor", key: "sport", count: 1, color: "#4cd964"},
                {id: 3, name: "Eƒülence", key: "entertainment", count: 1, color: "#ff9500"},
                {id: 4, name: "Sinema", key: "movie", count: 0, color: "#ff6b9d"}
            ];
        }

        function loadUsers() {
            try {
                const saved = localStorage.getItem(STORAGE_KEYS.USERS);
                if (saved) {
                    return JSON.parse(saved);
                }
            } catch (e) {
                console.error('Kullanƒ±cƒ±lar y√ºklenirken hata:', e);
            }
            
            // Varsayƒ±lan admin kullanƒ±cƒ±
            return [
                {
                    id: 1, 
                    username: "admin", 
                    email: "admin@canlitvpro.com", 
                    password: "admin123", 
                    role: "admin", 
                    status: "active",
                    created: "2024-01-15",
                    lastLogin: new Date().toLocaleString('tr-TR')
                }
            ];
        }

        // VERƒ∞ KAYDETME FONKSƒ∞YONLARI
        function saveChannels(channels) {
            try {
                localStorage.setItem(STORAGE_KEYS.CHANNELS, JSON.stringify(channels));
                return true;
            } catch (e) {
                console.error('Kanallar kaydedilirken hata:', e);
                return false;
            }
        }

        function saveCategories(categories) {
            try {
                localStorage.setItem(STORAGE_KEYS.CATEGORIES, JSON.stringify(categories));
                return true;
            } catch (e) {
                console.error('Kategoriler kaydedilirken hata:', e);
                return false;
            }
        }

        function saveUsers(users) {
            try {
                localStorage.setItem(STORAGE_KEYS.USERS, JSON.stringify(users));
                return true;
            } catch (e) {
                console.error('Kullanƒ±cƒ±lar kaydedilirken hata:', e);
                return false;
            }
        }

        // UYGULAMA VERƒ∞ YAPISI
        window.appData = loadData();

        // DEƒûƒ∞≈ûKENLER
        let hls = null;
        let currentStreamUrl = "";
        let isPlaying = false;
        let playbackSpeed = 1;
        let isRepeating = false;
        let favorites = new Set();
        let videoElement = null;
        let currentUser = null;
        let currentEditingId = null;
        let selectedChannels = new Set();
        let isBulkMode = false;
        let currentImportType = 'import-m3u8';
        let currentSelectedChannel = null;

        // SAYFA Y√úKLENDƒ∞ƒûƒ∞NDE
        document.addEventListener('DOMContentLoaded', function() {
            videoElement = document.getElementById('videoElement');
            
            loadHomePage();
            setupEventListeners();
            initializeVideoPlayer();
            
            // ƒ∞lk kanalƒ± se√ß
            if (appData.channels.length > 0) {
                currentSelectedChannel = appData.channels[0];
                updateChannelInfo(currentSelectedChannel);
            }
            
            updateStats();
            
            setTimeout(() => {
                showNotification('Canlƒ± TV Pro hazƒ±r! Kanal se√ßerek izlemeye ba≈ülayƒ±n.', 'info');
            }, 1000);
        });

        // Vƒ∞DEO PLAYER'I BA≈ûLAT
        function initializeVideoPlayer() {
            if (!videoElement) {
                videoElement = document.getElementById('videoElement');
            }
            
            videoElement.controls = true;
            videoElement.preload = 'auto';
            videoElement.playsInline = true;
            
            videoElement.addEventListener('play', function() {
                isPlaying = true;
                document.getElementById('playPauseBtn').innerHTML = '<span>‚è∏Ô∏è</span> Duraklat';
                updateStreamStatus('Yayƒ±n oynatƒ±lƒ±yor', 'success');
                updateStreamResolution();
            });
            
            videoElement.addEventListener('pause', function() {
                isPlaying = false;
                document.getElementById('playPauseBtn').innerHTML = '<span>‚ñ∂Ô∏è</span> Oynat';
                updateStreamStatus('Yayƒ±n duraklatƒ±ldƒ±', 'info');
            });
            
            videoElement.addEventListener('error', function(e) {
                console.error('Video hatasƒ±:', e);
                updateStreamStatus('Yayƒ±n hatasƒ±', 'error');
                showErrorMessage('Video y√ºklenirken bir hata olu≈ütu.');
                showLoader(false);
            });
            
            videoElement.addEventListener('timeupdate', updateTimeDisplay);
            videoElement.addEventListener('loadedmetadata', updateDurationDisplay);
            videoElement.addEventListener('volumechange', updateVolumeDisplay);
            videoElement.addEventListener('loadeddata', updateStreamResolution);
            
            videoElement.addEventListener('canplay', function() {
                showLoader(false);
            });
            
            if (Hls.isSupported()) {
                console.log('üéØ HLS desteƒüi mevcut');
            }
        }

        // ANA SAYFA Y√úKLE
        function loadHomePage() {
            const container = document.getElementById('channelsContainer');
            if (!container) return;
            
            container.innerHTML = '';
            
            document.getElementById('totalChannels').textContent = appData.channels.length;
            document.getElementById('lastUpdate').textContent = new Date().toLocaleString('tr-TR');
            
            appData.channels.forEach(channel => {
                createChannelCard(channel, container);
            });
            
            setupCategoryFilters();
            
            // ƒ∞lk kanalƒ± se√ßili g√∂ster
            if (currentSelectedChannel) {
                highlightSelectedChannel(currentSelectedChannel.id);
            }
        }

        // KANAL KARTI OLU≈ûTUR
        function createChannelCard(channel, container) {
            const categoryName = getCategoryName(channel.category);
            const card = document.createElement('div');
            card.className = `channel-card ${channel.isLive ? 'live' : ''}`;
            card.dataset.category = channel.category;
            card.dataset.id = channel.id;
            
            const category = appData.categories.find(c => c.key === channel.category);
            const categoryColor = category ? category.color : '#00a8ff';
            
            card.innerHTML = `
                <div class="channel-logo" style="background: linear-gradient(135deg, ${categoryColor}, ${darkenColor(categoryColor, 20)});">${channel.logo}</div>
                <div class="channel-name">${channel.name}</div>
                <div class="channel-category" style="background: ${categoryColor}20; color: ${categoryColor};">${categoryName}</div>
            `;
            
            card.onclick = () => {
                selectChannel(channel);
                scrollToPlayer();
            };
            
            container.appendChild(card);
        }

        // KATEGORƒ∞ ADINI AL
        function getCategoryName(key) {
            const cat = appData.categories.find(c => c.key === key);
            return cat ? cat.name : key;
        }

        // RENK KARARTMA FONKSƒ∞YONU
        function darkenColor(color, percent) {
            const num = parseInt(color.replace("#", ""), 16);
            const amt = Math.round(2.55 * percent);
            const R = (num >> 16) - amt;
            const G = (num >> 8 & 0x00FF) - amt;
            const B = (num & 0x0000FF) - amt;
            return "#" + (
                0x1000000 +
                (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +
                (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 +
                (B < 255 ? B < 1 ? 0 : B : 255)
            ).toString(16).slice(1);
        }

        // KANAL SE√á - YENƒ∞ D√úZENLENMƒ∞≈û FONKSƒ∞YON
        function selectChannel(channel) {
            if (!channel || !channel.url) {
                showErrorMessage('Ge√ßerli bir kanal se√ßilmedi!');
                return;
            }
            
            currentSelectedChannel = channel;
            updateChannelInfo(channel);
            playChannelStream(channel);
            highlightSelectedChannel(channel.id);
            
            showNotification(`${channel.name} kanalƒ± y√ºkleniyor...`, 'info');
        }

        // KANAL Bƒ∞LGƒ∞LERƒ∞Nƒ∞ G√úNCELLE
        function updateChannelInfo(channel) {
            const categoryName = getCategoryName(channel.category);
            
            document.getElementById('currentLogo').textContent = channel.logo;
            document.getElementById('currentChannel').textContent = channel.name;
            document.getElementById('currentCategory').textContent = categoryName;
            document.getElementById('activeCategory').textContent = categoryName;
            document.getElementById('streamFormat').textContent = channel.type.toUpperCase();
            
            document.getElementById('playerPlaceholder').classList.add('hidden');
        }

        // KANAL YAYININI BA≈ûLAT - YENƒ∞ D√úZENLENMƒ∞≈û FONKSƒ∞YON
        function playChannelStream(channel) {
            if (!channel || !channel.url || channel.url.trim() === '') {
                showErrorMessage('Bu kanal i√ßin ge√ßerli bir stream URL bulunamadƒ±.');
                return;
            }
            
            currentStreamUrl = channel.url;
            
            destroyCurrentPlayer();
            
            showLoader(true);
            updateStreamStatus(`${channel.name} y√ºkleniyor...`, 'info');
            
            try {
                // Video elementini hazƒ±rla
                videoElement.src = '';
                videoElement.load();
                
                setTimeout(() => {
                    switch(channel.type) {
                        case 'hls':
                            playHlsStream(channel.url, channel.name);
                            break;
                        case 'dash':
                            playDashStream(channel.url, channel.name);
                            break;
                        case 'mp4':
                        default:
                            playMp4Stream(channel.url, channel.name);
                            break;
                    }
                }, 100);
                
            } catch (error) {
                console.error('‚ùå Stream ba≈ülatma hatasƒ±:', error);
                updateStreamStatus('Ba≈ülatma hatasƒ±', 'error');
                showErrorMessage('Yayƒ±n ba≈ülatƒ±lƒ±rken hata olu≈ütu: ' + error.message);
                showLoader(false);
            }
        }

        // HLS STREAM BA≈ûLAT - G√úNCELLENDƒ∞
        function playHlsStream(url, channelName) {
            if (Hls.isSupported()) {
                if (hls) {
                    hls.destroy();
                }
                
                hls = new Hls({
                    enableWorker: true,
                    lowLatencyMode: true,
                    backBufferLength: 90,
                    debug: false,
                    maxBufferLength: 30,
                    maxMaxBufferLength: 60,
                    maxBufferSize: 60 * 1000 * 1000,
                    maxBufferHole: 0.5
                });
                
                hls.loadSource(url);
                hls.attachMedia(videoElement);
                
                hls.on(Hls.Events.MANIFEST_PARSED, function() {
                    console.log(`‚úÖ ${channelName} manifest y√ºklendi`);
                    playVideoWithRetry(channelName);
                    updateStreamStatus(`${channelName} yayƒ±nƒ± ba≈ülatƒ±lƒ±yor`, 'success');
                });
                
                hls.on(Hls.Events.ERROR, function(event, data) {
                    console.error('HLS Hatasƒ±:', data);
                    if (data.fatal) {
                        switch(data.type) {
                            case Hls.ErrorTypes.NETWORK_ERROR:
                                showErrorMessage(`${channelName} i√ßin aƒü hatasƒ±. Stream yeniden deneniyor...`);
                                hls.startLoad();
                                break;
                            case Hls.ErrorTypes.MEDIA_ERROR:
                                showErrorMessage(`${channelName} i√ßin medya hatasƒ±. Yeniden y√ºkleniyor...`);
                                hls.recoverMediaError();
                                break;
                            default:
                                hls.destroy();
                                showErrorMessage(`${channelName} i√ßin kritik hata.`);
                                break;
                        }
                    }
                });
                
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                // Safari i√ßin native HLS desteƒüi
                videoElement.src = url;
                videoElement.load();
                setTimeout(() => {
                    playVideoWithRetry(channelName);
                    updateStreamStatus(`${channelName} yayƒ±nƒ± ba≈ülatƒ±lƒ±yor (Safari HLS)`, 'success');
                }, 500);
            } else {
                showErrorMessage('Tarayƒ±cƒ±nƒ±z HLS formatƒ±nƒ± desteklemiyor!');
                showLoader(false);
            }
        }

        // MPEG-DASH STREAM BA≈ûLAT
        function playDashStream(url, channelName) {
            videoElement.src = url;
            videoElement.type = 'application/dash+xml';
            videoElement.load();
            setTimeout(() => {
                playVideoWithRetry(channelName);
                updateStreamStatus(`${channelName} yayƒ±nƒ± ba≈ülatƒ±lƒ±yor (MPEG-DASH)`, 'success');
            }, 500);
        }

        // MP4 STREAM BA≈ûLAT
        function playMp4Stream(url, channelName) {
            videoElement.src = url;
            videoElement.load();
            setTimeout(() => {
                playVideoWithRetry(channelName);
                updateStreamStatus(`${channelName} yayƒ±nƒ± ba≈ülatƒ±lƒ±yor (MP4)`, 'success');
            }, 500);
        }

        // VIDEO OYNATMAYI DENE - G√úNCELLENDƒ∞
        function playVideoWithRetry(channelName) {
            const playPromise = videoElement.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    isPlaying = true;
                    document.getElementById('playPauseBtn').innerHTML = '<span>‚è∏Ô∏è</span> Duraklat';
                    showLoader(false);
                    showNotification(`${channelName} ba≈üarƒ±yla ba≈ülatƒ±ldƒ±!`, 'success');
                }).catch(error => {
                    console.log('Autoplay engellendi:', error);
                    showLoader(false);
                    updateStreamStatus('Oynatmak i√ßin play butonuna tƒ±klayƒ±n', 'info');
                    showNotification(`${channelName} hazƒ±r! Play butonuna tƒ±klayƒ±n.`, 'info');
                });
            }
        }

        // MEVCUT OYNATICILARI TEMƒ∞ZLE
        function destroyCurrentPlayer() {
            if (hls) {
                hls.destroy();
                hls = null;
            }
            
            if (videoElement) {
                videoElement.pause();
                videoElement.removeAttribute('src');
                videoElement.load();
            }
        }

        // YAYIN DURUMUNU G√úNCELLE
        function updateStreamStatus(status, type = 'info') {
            const statusElement = document.getElementById('streamStatus');
            statusElement.textContent = status;
            
            const colors = {
                'success': '#4cd964',
                'error': '#ff4757',
                'info': '#00a8ff'
            };
            
            statusElement.style.color = colors[type] || '#8899aa';
            statusElement.style.fontWeight = '800';
        }

        // YAYIN √á√ñZ√úN√úRL√úƒû√úN√ú G√úNCELLE
        function updateStreamResolution() {
            if (!videoElement) return;
            
            let resolution = 'Auto';
            
            if (videoElement.videoWidth && videoElement.videoHeight) {
                const height = videoElement.videoHeight;
                
                if (height >= 1080) resolution = '1080p';
                else if (height >= 720) resolution = '720p';
                else if (height >= 480) resolution = '480p';
                else if (height >= 360) resolution = '360p';
                else resolution = `${height}p`;
            }
            
            document.getElementById('streamResolution').textContent = resolution;
        }

        // HATA MESAJI G√ñSTER
        function showErrorMessage(message) {
            showNotification(message, 'error');
        }

        // ZAMAN G√ñSTERƒ∞Mƒ∞Nƒ∞ G√úNCELLE
        function updateTimeDisplay() {
            if (videoElement && !isNaN(videoElement.currentTime)) {
                const currentTime = videoElement.currentTime;
                const formattedTime = formatTime(currentTime);
                document.getElementById('currentTime').textContent = formattedTime;
            }
        }

        // S√úRE G√ñSTERƒ∞Mƒ∞Nƒ∞ G√úNCELLE
        function updateDurationDisplay() {
            if (videoElement && !isNaN(videoElement.duration)) {
                const duration = videoElement.duration;
                const formattedDuration = formatTime(duration);
                document.getElementById('duration').textContent = formattedDuration;
            }
        }

        // SES G√ñSTERƒ∞Mƒ∞Nƒ∞ G√úNCELLE
        function updateVolumeDisplay() {
            if (videoElement) {
                const volume = videoElement.volume;
                document.getElementById('volumeSlider').value = volume;
                const icon = videoElement.muted || volume === 0 ? 'üîá' : volume < 0.5 ? 'üîâ' : 'üîä';
                document.getElementById('muteBtn').innerHTML = `<span>${icon}</span> ${videoElement.muted ? 'Ses A√ß' : 'Ses Kapat'}`;
            }
        }

        // ZAMANI FORMATLA
        function formatTime(seconds) {
            if (isNaN(seconds)) return '00:00';
            
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = Math.floor(seconds % 60);
            
            if (hours > 0) {
                return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
            return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // NOTIFICATION G√ñSTER
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                'success': '‚úÖ',
                'error': '‚ùå',
                'info': '‚ÑπÔ∏è'
            };
            
            notification.innerHTML = `
                <span style="font-size: 22px;">${icons[type] || 'üì¢'}</span>
                <div>${message}</div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideInRight 0.3s cubic-bezier(0.4, 0, 0.2, 1) reverse';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // LOADER G√ñSTER/Gƒ∞ZLE
        function showLoader(show) {
            const loader = document.getElementById('loader');
            if (loader) {
                loader.style.display = show ? 'flex' : 'none';
            }
        }

        // KATEGORƒ∞ Fƒ∞LTRELE
        function setupCategoryFilters() {
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.onclick = function() {
                    document.querySelectorAll('.category-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    
                    this.classList.add('active');
                    
                    const category = this.dataset.category;
                    filterChannels(category);
                    
                    const categoryName = category === 'all' ? 'T√ºm Kanallar' : getCategoryName(category);
                    document.getElementById('activeCategory').textContent = categoryName;
                };
            });
        }

        function filterChannels(category) {
            const cards = document.querySelectorAll('.channel-card');
            let visibleCount = 0;
            
            cards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            document.getElementById('totalChannels').textContent = visibleCount;
        }

        // ƒ∞STATƒ∞STƒ∞KLERƒ∞ G√úNCELLE
        function updateStats() {
            if (document.getElementById('statChannels')) {
                document.getElementById('statChannels').textContent = appData.channels.length;
                document.getElementById('statCategories').textContent = appData.categories.length;
                document.getElementById('statUsers').textContent = appData.users.length;
                
                const liveChannels = appData.channels.filter(c => c.isLive).length;
                document.getElementById('statLive').textContent = liveChannels;
            }
        }

        // TEST STREAM BA≈ûLAT
        function startTestStream() {
            const hlsStreams = TEST_STREAMS.hls;
            const randomStream = hlsStreams[Math.floor(Math.random() * hlsStreams.length)];
            
            const testChannel = {
                id: 999,
                name: "Test Stream",
                category: "entertainment",
                logo: "TST",
                url: randomStream,
                type: "hls",
                isLive: true,
                description: "Test stream"
            };
            
            selectChannel(testChannel);
            showNotification('Test stream ba≈ülatƒ±ldƒ±!', 'success');
        }

        // ADMIN PANEL FONKSƒ∞YONLARI
        function loadAdminPanel() {
            loadAdminChannels();
            loadAdminCategories();
            loadAdminUsers();
            updateStats();
        }

        function loadAdminChannels() {
            const tbody = document.getElementById('channelsTable');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            appData.channels.forEach(channel => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <input type="checkbox" class="select-checkbox channel-checkbox" data-id="${channel.id}" ${isBulkMode ? '' : 'style="display: none;"'}>
                    </td>
                    <td>${channel.name}</td>
                    <td>${getCategoryName(channel.category)}</td>
                    <td>${channel.logo}</td>
                    <td><span class="${channel.isLive ? 'status-active' : 'status-inactive'}">${channel.isLive ? 'Canlƒ±' : 'Offline'}</span></td>
                    <td>
                        <button class="action-btn edit-btn" onclick="editChannel(${channel.id})">
                            <span>‚úèÔ∏è</span> D√ºzenle
                        </button>
                        <button class="action-btn toggle-btn" onclick="toggleChannel(${channel.id})">
                            <span>üîÅ</span> ${channel.isLive ? 'Kapat' : 'A√ß'}
                        </button>
                        <button class="action-btn delete-btn" onclick="deleteChannel(${channel.id})">
                            <span>üóëÔ∏è</span> Sil
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
            
            // Checkbox event listener'larƒ±nƒ± ekle
            document.querySelectorAll('.channel-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const channelId = parseInt(this.dataset.id);
                    if (this.checked) {
                        selectedChannels.add(channelId);
                    } else {
                        selectedChannels.delete(channelId);
                    }
                    updateSelectedCount();
                });
            });
        }

        function loadAdminCategories() {
            const tbody = document.getElementById('categoriesTable');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            appData.categories.forEach(category => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${category.name}</td>
                    <td>${category.count} kanal</td>
                    <td>
                        <div style="width: 20px; height: 20px; background: ${category.color}; border-radius: 4px; border: 1px solid white;"></div>
                    </td>
                    <td>
                        <button class="action-btn edit-btn" onclick="editCategory(${category.id})">
                            <span>‚úèÔ∏è</span> D√ºzenle
                        </button>
                        <button class="action-btn delete-btn" onclick="deleteCategory(${category.id})">
                            <span>üóëÔ∏è</span> Sil
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadAdminUsers() {
            const tbody = document.getElementById('usersTable');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            appData.users.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.username}</td>
                    <td>${user.email}</td>
                    <td>${user.role}</td>
                    <td><span class="${user.status === 'active' ? 'status-active' : user.status === 'inactive' ? 'status-inactive' : 'status-banned'}">${user.status}</span></td>
                    <td>${user.lastLogin || '-'}</td>
                    <td>
                        <button class="action-btn edit-btn" onclick="editUser(${user.id})">
                            <span>‚úèÔ∏è</span> D√ºzenle
                        </button>
                        <button class="action-btn toggle-btn" onclick="toggleUser(${user.id})">
                            <span>üîÅ</span> ${user.status === 'active' ? 'Pasif Yap' : 'Aktif Yap'}
                        </button>
                        <button class="action-btn delete-btn" onclick="deleteUser(${user.id})">
                            <span>üóëÔ∏è</span> Sil
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // TOPLU ƒ∞≈ûLEMLER
        function toggleBulkMode() {
            isBulkMode = !isBulkMode;
            const bulkActionsBar = document.getElementById('bulkActionsBar');
            const selectChannelsBtn = document.getElementById('selectChannelsBtn');
            
            if (isBulkMode) {
                bulkActionsBar.classList.add('active');
                selectChannelsBtn.innerHTML = '<span>‚ùå</span> Toplu ƒ∞≈ülemi ƒ∞ptal Et';
                selectChannelsBtn.style.background = '#ff4757';
                
                // Checkbox'larƒ± g√∂ster
                document.querySelectorAll('.channel-checkbox').forEach(checkbox => {
                    checkbox.style.display = 'block';
                });
            } else {
                bulkActionsBar.classList.remove('active');
                selectChannelsBtn.innerHTML = '<span>üìã</span> Toplu ƒ∞≈ülem';
                selectChannelsBtn.style.background = '';
                
                // Checkbox'larƒ± gizle ve se√ßimleri temizle
                document.querySelectorAll('.channel-checkbox').forEach(checkbox => {
                    checkbox.style.display = 'none';
                    checkbox.checked = false;
                });
                
                selectedChannels.clear();
                updateSelectedCount();
            }
        }

        function updateSelectedCount() {
            const selectedCount = document.getElementById('selectedCount');
            selectedCount.textContent = `${selectedChannels.size} kanal se√ßildi`;
        }

        function selectAllChannels() {
            document.querySelectorAll('.channel-checkbox').forEach(checkbox => {
                checkbox.checked = true;
                const channelId = parseInt(checkbox.dataset.id);
                selectedChannels.add(channelId);
            });
            updateSelectedCount();
        }

        function deselectAllChannels() {
            document.querySelectorAll('.channel-checkbox').forEach(checkbox => {
                checkbox.checked = false;
            });
            selectedChannels.clear();
            updateSelectedCount();
        }

        function bulkDeleteChannels() {
            if (selectedChannels.size === 0) {
                showNotification('L√ºtfen silmek i√ßin kanal se√ßin.', 'error');
                return;
            }
            
            document.getElementById('bulkDeleteMessage').textContent = 
                `${selectedChannels.size} kanalƒ± silmek istediƒüinize emin misiniz?`;
            document.getElementById('bulkDeleteModal').style.display = 'flex';
        }

        function confirmBulkDelete() {
            // Se√ßili kanallarƒ± sil
            appData.channels = appData.channels.filter(channel => !selectedChannels.has(channel.id));
            
            // LocalStorage'a kaydet
            saveChannels(appData.channels);
            
            // Kategori sayƒ±larƒ±nƒ± g√ºncelle
            updateCategoryCounts();
            
            // Sayfalarƒ± yenile
            loadAdminChannels();
            loadHomePage();
            updateStats();
            
            // Toplu i≈ülem modundan √ßƒ±k
            toggleBulkMode();
            
            // Modal'ƒ± kapat
            document.getElementById('bulkDeleteModal').style.display = 'none';
            
            showNotification(`${selectedChannels.size} kanal ba≈üarƒ±yla silindi!`, 'success');
        }

        // ƒ∞√áE/DI≈ûA AKTARMA FONKSƒ∞YONLARI
        function openImportExportModal() {
            currentImportType = 'import-m3u8';
            updateImportExportUI();
            document.getElementById('importExportModal').style.display = 'flex';
        }

        function updateImportExportUI() {
            const isImport = currentImportType.startsWith('import');
            const importArea = document.getElementById('importArea');
            const exportArea = document.getElementById('exportArea');
            const modalTitle = document.getElementById('importExportModalTitle');
            
            if (isImport) {
                importArea.style.display = 'block';
                exportArea.style.display = 'none';
                modalTitle.textContent = 'Kanallarƒ± ƒ∞√ße Aktar';
                document.getElementById('startImportBtn').style.display = 'block';
            } else {
                importArea.style.display = 'none';
                exportArea.style.display = 'block';
                modalTitle.textContent = 'Kanallarƒ± Dƒ±≈üa Aktar';
                document.getElementById('startExportBtn').style.display = 'block';
                
                // Kategori se√ßim listesini g√ºncelle
                updateExportCategoriesList();
            }
            
            // Aktif kartƒ± g√ºncelle
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('active');
                if (card.dataset.type === currentImportType) {
                    card.classList.add('active');
                }
            });
        }

        function updateExportCategoriesList() {
            const container = document.getElementById('exportCategoriesList');
            container.innerHTML = '';
            
            appData.categories.forEach(category => {
                const label = document.createElement('label');
                label.style.cssText = 'display: flex; align-items: center; gap: 10px; padding: 8px 0;';
                label.innerHTML = `
                    <input type="checkbox" class="export-category-checkbox" value="${category.key}" checked>
                    <span>${category.name} (${category.count} kanal)</span>
                `;
                container.appendChild(label);
            });
        }

        // M3U8 PARSE ET
        function parseM3U8(content) {
            const channels = [];
            const lines = content.split('\n');
            let currentChannel = {};
            
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i].trim();
                
                if (line.startsWith('#EXTINF:')) {
                    currentChannel = {};
                    
                    // Extract channel name
                    const nameMatch = line.match(/,(.+)$/);
                    if (nameMatch) {
                        currentChannel.name = nameMatch[1].trim();
                    }
                    
                    // Extract group-title
                    const groupMatch = line.match(/group-title="([^"]*)"/);
                    if (groupMatch) {
                        currentChannel.category = normalizeCategory(groupMatch[1]);
                    }
                    
                } else if (line && !line.startsWith('#') && line.startsWith('http')) {
                    currentChannel.url = line;
                    
                    // Generate logo from name
                    if (currentChannel.name) {
                        currentChannel.logo = currentChannel.name.substring(0, 3).toUpperCase().replace(/\s/g, '');
                        if (currentChannel.logo.length < 3) {
                            currentChannel.logo = currentChannel.logo.padEnd(3, 'X');
                        }
                    } else {
                        currentChannel.logo = 'TV';
                    }
                    
                    // Set default category if not found
                    if (!currentChannel.category) {
                        currentChannel.category = 'entertainment';
                    }
                    
                    // Set type
                    currentChannel.type = 'hls';
                    currentChannel.isLive = true;
                    
                    // Add channel
                    if (currentChannel.name && currentChannel.url) {
                        channels.push({...currentChannel});
                    }
                    
                    currentChannel = {};
                }
            }
            
            return channels;
        }

        // KATEGORƒ∞Yƒ∞ NORMALƒ∞ZE ET
        function normalizeCategory(category) {
            const categoryMap = {
                'news': 'news',
                'haber': 'news',
                'sport': 'sport',
                'spor': 'sport',
                'entertainment': 'entertainment',
                'eƒülence': 'entertainment',
                'movie': 'movie',
                'sinema': 'movie'
            };
            
            const lowerCategory = category.toLowerCase().trim();
            return categoryMap[lowerCategory] || 'entertainment';
        }

        // TXT PARSE ET
        function parseTXT(content) {
            const channels = [];
            const lines = content.split('\n');
            
            lines.forEach(line => {
                line = line.trim();
                if (line && !line.startsWith('#')) {
                    const parts = line.split('|');
                    if (parts.length >= 2) {
                        const channel = {
                            name: parts[0].trim(),
                            url: parts[1].trim(),
                            category: parts[2] ? normalizeCategory(parts[2].trim()) : 'entertainment',
                            logo: parts[0].trim().substring(0, 3).toUpperCase().replace(/\s/g, ''),
                            type: 'hls',
                            isLive: true
                        };
                        
                        if (channel.logo.length < 3) {
                            channel.logo = channel.logo.padEnd(3, 'X');
                        }
                        
                        channels.push(channel);
                    }
                }
            });
            
            return channels;
        }

        // ƒ∞√áE AKTARMA ƒ∞≈ûLEMƒ∞
        async function startImport() {
            const fileInput = document.getElementById('importFile');
            const urlInput = document.getElementById('importUrl').value.trim();
            const importOption = document.querySelector('input[name="importOption"]:checked').value;
            const skipDuplicates = document.getElementById('skipDuplicates').checked;
            
            let content = '';
            
            // URL'den y√ºkle
            if (urlInput) {
                try {
                    showLoader(true);
                    const response = await fetch(urlInput);
                    if (!response.ok) throw new Error('URL y√ºklenemedi');
                    content = await response.text();
                    showLoader(false);
                } catch (error) {
                    showLoader(false);
                    showNotification('URL y√ºklenirken hata olu≈ütu: ' + error.message, 'error');
                    return;
                }
            }
            // Dosyadan y√ºkle
            else if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                if (file.size > 10 * 1024 * 1024) {
                    showNotification('Dosya boyutu 10MB\'dan b√ºy√ºk olamaz!', 'error');
                    return;
                }
                
                try {
                    showLoader(true);
                    content = await file.text();
                    showLoader(false);
                } catch (error) {
                    showLoader(false);
                    showNotification('Dosya okunurken hata olu≈ütu: ' + error.message, 'error');
                    return;
                }
            } else {
                showNotification('L√ºtfen bir dosya veya URL girin!', 'error');
                return;
            }
            
            // ƒ∞√ßeriƒüi parse et
            let channels = [];
            if (currentImportType === 'import-m3u8') {
                channels = parseM3U8(content);
            } else if (currentImportType === 'import-txt') {
                channels = parseTXT(content);
            }
            
            if (channels.length === 0) {
                showNotification('ƒ∞√ße aktarƒ±lacak kanal bulunamadƒ±!', 'error');
                return;
            }
            
            // √ñnizleme g√∂ster
            showImportPreview(channels);
            
            // ƒ∞√ße aktarmayƒ± ba≈ülat
            await executeImport(channels, importOption, skipDuplicates);
        }

        function showImportPreview(channels) {
            const preview = document.getElementById('m3u8Preview');
            preview.innerHTML = '';
            preview.style.display = 'block';
            
            let html = `<div style="margin-bottom: 10px; color: #4cd964;">‚úÖ ${channels.length} kanal bulundu</div>`;
            
            // ƒ∞lk 5 kanalƒ± g√∂ster
            channels.slice(0, 5).forEach((channel, index) => {
                html += `
                    <div class="preview-item">
                        <div style="width: 30px; height: 30px; background: #00a8ff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700;">
                            ${channel.logo}
                        </div>
                        <div>
                            <div style="font-weight: 700;">${channel.name}</div>
                            <div style="font-size: 12px; color: #8899aa;">${channel.category}</div>
                        </div>
                    </div>
                `;
            });
            
            if (channels.length > 5) {
                html += `<div style="padding: 10px; color: #8899aa; font-size: 12px;">... ve ${channels.length - 5} kanal daha</div>`;
            }
            
            preview.innerHTML = html;
        }

        async function executeImport(channels, importOption, skipDuplicates) {
            const progressContainer = document.getElementById('importProgress');
            const progressFill = document.getElementById('importProgressFill');
            const progressText = document.getElementById('importProgressText');
            const progressPercent = document.getElementById('importProgressPercent');
            
            progressContainer.style.display = 'block';
            
            let importedCount = 0;
            let duplicateCount = 0;
            
            // Eƒüer mevcut listeyi deƒüi≈ütir se√ßeneƒüi se√ßilmi≈üse
            if (importOption === 'replace') {
                appData.channels = [];
            }
            
            // Ba≈ülangƒ±√ß ID'sini belirle
            const startId = appData.channels.length > 0 ? 
                Math.max(...appData.channels.map(c => c.id)) + 1 : 1;
            
            for (let i = 0; i < channels.length; i++) {
                const channel = channels[i];
                
                // Tekrar kontrol√º
                if (skipDuplicates) {
                    const isDuplicate = appData.channels.some(existing => 
                        existing.name === channel.name || existing.url === channel.url
                    );
                    
                    if (isDuplicate) {
                        duplicateCount++;
                        continue;
                    }
                }
                
                // Yeni kanalƒ± ekle
                appData.channels.push({
                    id: startId + i,
                    name: channel.name,
                    category: channel.category,
                    logo: channel.logo,
                    url: channel.url,
                    type: channel.type,
                    isLive: true,
                    description: `${channel.type.toUpperCase()} stream`
                });
                
                importedCount++;
                
                // Progress g√ºncelle
                const percent = Math.round(((i + 1) / channels.length) * 100);
                progressFill.style.width = `${percent}%`;
                progressText.textContent = `${i + 1}/${channels.length}`;
                progressPercent.textContent = `${percent}%`;
                
                // K√º√ß√ºk bir gecikme
                await new Promise(resolve => setTimeout(resolve, 10));
            }
            
            // LocalStorage'a kaydet
            saveChannels(appData.channels);
            
            // Kategori sayƒ±larƒ±nƒ± g√ºncelle
            updateCategoryCounts();
            
            // Progress tamamlandƒ±
            progressFill.style.width = '100%';
            progressText.textContent = `Tamamlandƒ±`;
            progressPercent.textContent = '100%';
            
            // Sayfalarƒ± yenile
            setTimeout(() => {
                loadAdminChannels();
                loadHomePage();
                updateStats();
                
                document.getElementById('importExportModal').style.display = 'none';
                
                let message = `${importedCount} kanal ba≈üarƒ±yla i√ße aktarƒ±ldƒ±!`;
                if (duplicateCount > 0) {
                    message += ` (${duplicateCount} tekrar atlandƒ±)`;
                }
                
                showNotification(message, 'success');
            }, 500);
        }

        // DI≈ûA AKTARMA ƒ∞≈ûLEMƒ∞
        async function startExport() {
            const format = document.getElementById('exportFormat').value;
            const exportAll = document.getElementById('exportAllChannels').checked;
            const withMetadata = document.getElementById('exportWithMetadata').checked;
            const exportCategories = document.getElementById('exportCategories').checked;
            
            // Dƒ±≈üa aktarƒ±lacak kanallarƒ± filtrele
            let channelsToExport = [...appData.channels];
            
            if (!exportAll && exportCategories) {
                const selectedCategories = Array.from(
                    document.querySelectorAll('.export-category-checkbox:checked')
                ).map(cb => cb.value);
                
                if (selectedCategories.length > 0) {
                    channelsToExport = channelsToExport.filter(channel => 
                        selectedCategories.includes(channel.category)
                    );
                }
            }
            
            if (channelsToExport.length === 0) {
                showNotification('Dƒ±≈üa aktarƒ±lacak kanal bulunamadƒ±!', 'error');
                return;
            }
            
            // Progress g√∂ster
            const progressContainer = document.getElementById('exportProgress');
            const progressFill = document.getElementById('exportProgressFill');
            const progressText = document.getElementById('exportProgressText');
            const progressPercent = document.getElementById('exportProgressPercent');
            
            progressContainer.style.display = 'block';
            progressFill.style.width = '0%';
            progressText.textContent = 'Hazƒ±rlanƒ±yor...';
            progressPercent.textContent = '0%';
            
            // ƒ∞√ßeriƒüi olu≈ütur
            let content = '';
            let filename = '';
            let mimeType = '';
            
            if (format === 'm3u8') {
                content = generateM3U8Content(channelsToExport, withMetadata);
                filename = `iptv_channels_${new Date().toISOString().split('T')[0]}.m3u8`;
                mimeType = 'application/vnd.apple.mpegurl';
            } else if (format === 'json') {
                content = generateJSONContent(channelsToExport, withMetadata);
                filename = `iptv_channels_${new Date().toISOString().split('T')[0]}.json`;
                mimeType = 'application/json';
            } else if (format === 'txt') {
                content = generateTXTContent(channelsToExport);
                filename = `iptv_channels_${new Date().toISOString().split('T')[0]}.txt`;
                mimeType = 'text/plain';
            }
            
            // Progress g√ºncelle
            progressFill.style.width = '100%';
            progressText.textContent = 'Tamamlandƒ±';
            progressPercent.textContent = '100%';
            
            // Dosyayƒ± indir
            setTimeout(() => {
                downloadFile(content, filename, mimeType);
                document.getElementById('importExportModal').style.display = 'none';
                showNotification(`${channelsToExport.length} kanal dƒ±≈üa aktarƒ±ldƒ±!`, 'success');
            }, 500);
        }

        function generateM3U8Content(channels, withMetadata) {
            let content = '#EXTM3U\n';
            
            channels.forEach(channel => {
                if (withMetadata) {
                    content += `#EXTINF:-1 tvg-id="${channel.id}" tvg-name="${channel.name}" tvg-logo="" group-title="${getCategoryName(channel.category)}",${channel.name}\n`;
                } else {
                    content += `#EXTINF:-1,${channel.name}\n`;
                }
                content += `${channel.url}\n`;
            });
            
            return content;
        }

        function generateJSONContent(channels, withMetadata) {
            const data = {
                exportDate: new Date().toISOString(),
                totalChannels: channels.length,
                channels: channels.map(channel => ({
                    id: channel.id,
                    name: channel.name,
                    category: channel.category,
                    logo: channel.logo,
                    url: channel.url,
                    type: channel.type,
                    isLive: channel.isLive,
                    ...(withMetadata && { description: channel.description })
                }))
            };
            
            return JSON.stringify(data, null, 2);
        }

        function generateTXTContent(channels) {
            let content = '# IPTV Channels Export\n';
            content += '# Format: Name|URL|Category|Logo\n\n';
            
            channels.forEach(channel => {
                content += `${channel.name}|${channel.url}|${channel.category}|${channel.logo}\n`;
            });
            
            return content;
        }

        function downloadFile(content, filename, mimeType) {
            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Dƒ∞ƒûER FONKSƒ∞YONLAR
        function updateCategoryCounts() {
            appData.categories.forEach(category => {
                category.count = appData.channels.filter(c => c.category === category.key).length;
            });
            
            // LocalStorage'a kaydet
            saveCategories(appData.categories);
        }

        // SE√áƒ∞Lƒ∞ KANALI VURGULA
        function highlightSelectedChannel(channelId) {
            document.querySelectorAll('.channel-card').forEach(card => {
                card.style.borderColor = '#2a3444';
                card.style.transform = '';
            });
            
            const selectedCard = document.querySelector(`.channel-card[data-id="${channelId}"]`);
            if (selectedCard) {
                selectedCard.style.borderColor = '#00a8ff';
                selectedCard.style.transform = 'translateY(-5px)';
            }
        }

        // OYNATICIYA KAYDIR
        function scrollToPlayer() {
            const player = document.querySelector('.media-player-container');
            if (player) {
                player.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // GLOBAL FONKSƒ∞YONLAR
        window.editChannel = function(id) {
            const channel = appData.channels.find(c => c.id === id);
            if (!channel) return;
            
            currentEditingId = id;
            document.getElementById('channelModalTitle').textContent = 'Kanalƒ± D√ºzenle';
            document.getElementById('channelName').value = channel.name;
            document.getElementById('channelLogo').value = channel.logo;
            document.getElementById('streamUrlModal').value = channel.url;
            document.getElementById('streamTypeModal').value = channel.type;
            
            // Kategori se√ßeneklerini doldur
            const categorySelect = document.getElementById('channelCategory');
            categorySelect.innerHTML = '<option value="">Kategori Se√ßin</option>';
            appData.categories.forEach(cat => {
                const option = document.createElement('option');
                option.value = cat.key;
                option.textContent = cat.name;
                if (cat.key === channel.category) {
                    option.selected = true;
                }
                categorySelect.appendChild(option);
            });
            
            document.getElementById('channelModal').style.display = 'flex';
        };

        window.toggleChannel = function(id) {
            const index = appData.channels.findIndex(c => c.id === id);
            if (index !== -1) {
                appData.channels[index].isLive = !appData.channels[index].isLive;
                saveChannels(appData.channels);
                loadAdminChannels();
                loadHomePage();
                updateStats();
                showNotification(`Kanal ${appData.channels[index].isLive ? 'a√ßƒ±ldƒ±' : 'kapatƒ±ldƒ±'}!`, 'info');
            }
        };

        window.deleteChannel = function(id) {
            if (confirm('Bu kanalƒ± silmek istediƒüinize emin misiniz?')) {
                appData.channels = appData.channels.filter(c => c.id !== id);
                saveChannels(appData.channels);
                updateCategoryCounts();
                loadAdminChannels();
                loadHomePage();
                updateStats();
                showNotification('Kanal silindi!', 'info');
            }
        };

        window.editUser = function(id) {
            const user = appData.users.find(u => u.id === id);
            if (!user) return;
            
            currentEditingId = id;
            document.getElementById('userModalTitle').textContent = 'Kullanƒ±cƒ±yƒ± D√ºzenle';
            document.getElementById('userUsername').value = user.username;
            document.getElementById('userEmail').value = user.email;
            document.getElementById('userPassword').value = '';
            document.getElementById('userPassword').placeholder = 'Yeni ≈üifre (deƒüi≈ütirmek istemiyorsanƒ±z bo≈ü bƒ±rakƒ±n)';
            document.getElementById('userRole').value = user.role;
            document.getElementById('userStatus').value = user.status;
            
            document.getElementById('userModal').style.display = 'flex';
        };

        window.toggleUser = function(id) {
            const index = appData.users.findIndex(u => u.id === id);
            if (index !== -1) {
                const user = appData.users[index];
                user.status = user.status === 'active' ? 'inactive' : 'active';
                saveUsers(appData.users);
                loadAdminUsers();
                updateStats();
                showNotification(`Kullanƒ±cƒ± ${user.status === 'active' ? 'aktifle≈ütirildi' : 'pasifle≈ütirildi'}!`, 'info');
            }
        };

        window.deleteUser = function(id) {
            const user = appData.users.find(u => u.id === id);
            if (!user) return;
            
            if (user.role === 'admin') {
                showNotification('Y√∂netici kullanƒ±cƒ±lar silinemez!', 'error');
                return;
            }
            
            if (confirm(`${user.username} kullanƒ±cƒ±sƒ±nƒ± silmek istediƒüinize emin misiniz?`)) {
                appData.users = appData.users.filter(u => u.id !== id);
                saveUsers(appData.users);
                loadAdminUsers();
                updateStats();
                showNotification('Kullanƒ±cƒ± silindi!', 'info');
            }
        };

        window.editCategory = function(id) {
            const category = appData.categories.find(c => c.id === id);
            if (!category) return;
            
            currentEditingId = id;
            document.getElementById('categoryName').value = category.name;
            document.getElementById('categoryModal').style.display = 'flex';
        };

        window.deleteCategory = function(id) {
            const category = appData.categories.find(c => c.id === id);
            if (!category) return;
            
            if (category.count > 0) {
                showNotification('Bu kategoriyi silemezsiniz! Kategoriye baƒülƒ± kanallar var.', 'error');
                return;
            }
            
            if (confirm('Bu kategoriyi silmek istediƒüinize emin misiniz?')) {
                appData.categories = appData.categories.filter(c => c.id !== id);
                saveCategories(appData.categories);
                loadAdminCategories();
                updateStats();
                showNotification('Kategori silindi!', 'info');
            }
        };

        // OLAY Dƒ∞NLEYƒ∞Cƒ∞LERƒ∞
        function setupEventListeners() {
            // Video kontrolleri
            document.getElementById('playPauseBtn').onclick = function() {
                if (videoElement.paused) {
                    videoElement.play();
                    this.innerHTML = '<span>‚è∏Ô∏è</span> Duraklat';
                } else {
                    videoElement.pause();
                    this.innerHTML = '<span>‚ñ∂Ô∏è</span> Oynat';
                }
            };
            
            document.getElementById('stopBtn').onclick = function() {
                videoElement.pause();
                videoElement.currentTime = 0;
                document.getElementById('playPauseBtn').innerHTML = '<span>‚ñ∂Ô∏è</span> Oynat';
            };
            
            document.getElementById('muteBtn').onclick = function() {
                videoElement.muted = !videoElement.muted;
            };
            
            document.getElementById('volumeSlider').oninput = function() {
                videoElement.volume = parseFloat(this.value);
                videoElement.muted = false;
            };
            
            document.getElementById('speedBtn').onclick = function() {
                const speeds = [0.5, 0.75, 1, 1.25, 1.5, 2];
                const currentIndex = speeds.indexOf(playbackSpeed);
                const nextIndex = (currentIndex + 1) % speeds.length;
                playbackSpeed = speeds[nextIndex];
                videoElement.playbackRate = playbackSpeed;
                this.innerHTML = `<span>‚ö°</span> Hƒ±z: ${playbackSpeed}x`;
            };
            
            document.getElementById('testStreamBtn').onclick = startTestStream;
            
            // Tam ekran butonu
            document.getElementById('fullscreenBtn').onclick = function() {
                const videoContainer = document.getElementById('videoPlayer');
                if (!document.fullscreenElement) {
                    if (videoContainer.requestFullscreen) {
                        videoContainer.requestFullscreen();
                    } else if (videoContainer.webkitRequestFullscreen) {
                        videoContainer.webkitRequestFullscreen();
                    } else if (videoContainer.msRequestFullscreen) {
                        videoContainer.msRequestFullscreen();
                    }
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen();
                    } else if (document.msExitFullscreen) {
                        document.msExitFullscreen();
                    }
                }
            };
            
            // Admin giri≈üi
            document.getElementById('adminBtn').onclick = function() {
                document.getElementById('loginModal').style.display = 'flex';
            };
            
            const loginForm = document.getElementById('loginForm');
            if (loginForm) {
                loginForm.onsubmit = function(e) {
                    e.preventDefault();
                    const username = document.getElementById('loginUsername').value;
                    const password = document.getElementById('loginPassword').value;
                    
                    const user = appData.users.find(u => 
                        u.username === username && u.password === password && u.status === 'active'
                    );
                    
                    if (user) {
                        user.lastLogin = new Date().toLocaleString('tr-TR');
                        saveUsers(appData.users);
                        
                        document.getElementById('loginModal').style.display = 'none';
                        document.getElementById('mainApp').style.display = 'none';
                        document.getElementById('adminPanel').style.display = 'block';
                        loadAdminPanel();
                        showNotification(`Ho≈ü geldiniz ${user.username}!`, 'success');
                    } else {
                        showNotification('Ge√ßersiz kullanƒ±cƒ± adƒ± veya ≈üifre!', 'error');
                    }
                };
            }
            
            // Admin √ßƒ±kƒ±≈ü
            document.getElementById('adminLogout').onclick = function() {
                document.getElementById('adminPanel').style.display = 'none';
                document.getElementById('mainApp').style.display = 'block';
                showNotification('Ba≈üarƒ±yla √ßƒ±kƒ±≈ü yapƒ±ldƒ±.', 'info');
                loadHomePage();
                if (videoElement) {
                    videoElement.pause();
                }
            };
            
            // Admin navigasyon
            document.querySelectorAll('.admin-nav button[data-section]').forEach(btn => {
                btn.onclick = function() {
                    document.querySelectorAll('.admin-nav button').forEach(b => {
                        b.classList.remove('active');
                    });
                    
                    this.classList.add('active');
                    
                    document.querySelectorAll('.admin-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    const sectionId = this.dataset.section;
                    document.getElementById(sectionId).classList.add('active');
                    
                    switch(sectionId) {
                        case 'dashboard':
                            updateStats();
                            break;
                        case 'channels':
                            loadAdminChannels();
                            break;
                        case 'categories':
                            loadAdminCategories();
                            break;
                        case 'users':
                            loadAdminUsers();
                            break;
                    }
                };
            });
            
            // Yeni kanal ekle
            document.getElementById('addChannelBtn').onclick = function() {
                currentEditingId = null;
                document.getElementById('channelModalTitle').textContent = 'Yeni Kanal Ekle';
                document.getElementById('channelForm').reset();
                
                // Kategori se√ßeneklerini doldur
                const categorySelect = document.getElementById('channelCategory');
                categorySelect.innerHTML = '<option value="">Kategori Se√ßin</option>';
                appData.categories.forEach(cat => {
                    const option = document.createElement('option');
                    option.value = cat.key;
                    option.textContent = cat.name;
                    categorySelect.appendChild(option);
                });
                
                document.getElementById('channelModal').style.display = 'flex';
            };
            
            // Kanal formu g√∂nderimi
            document.getElementById('channelForm').onsubmit = function(e) {
                e.preventDefault();
                
                const channelData = {
                    name: document.getElementById('channelName').value,
                    category: document.getElementById('channelCategory').value,
                    logo: document.getElementById('channelLogo').value,
                    url: document.getElementById('streamUrlModal').value,
                    type: document.getElementById('streamTypeModal').value,
                    isLive: true
                };
                
                if (currentEditingId) {
                    // Kanalƒ± g√ºncelle
                    const index = appData.channels.findIndex(c => c.id === currentEditingId);
                    if (index !== -1) {
                        appData.channels[index] = {
                            ...appData.channels[index],
                            ...channelData
                        };
                    }
                } else {
                    // Yeni kanal ekle
                    const newId = appData.channels.length > 0 ? 
                        Math.max(...appData.channels.map(c => c.id)) + 1 : 1;
                    
                    appData.channels.push({
                        id: newId,
                        ...channelData
                    });
                }
                
                // LocalStorage'a kaydet
                saveChannels(appData.channels);
                updateCategoryCounts();
                
                // Sayfalarƒ± yenile
                loadAdminChannels();
                loadHomePage();
                updateStats();
                
                document.getElementById('channelModal').style.display = 'none';
                showNotification(`Kanal ${currentEditingId ? 'g√ºncellendi' : 'eklendi'}!`, 'success');
            };
            
            // Yeni kategori ekle
            document.getElementById('addCategoryBtn').onclick = function() {
                currentEditingId = null;
                document.getElementById('categoryForm').reset();
                document.getElementById('categoryModal').style.display = 'flex';
            };
            
            // Kategori formu g√∂nderimi
            document.getElementById('categoryForm').onsubmit = function(e) {
                e.preventDefault();
                
                const categoryName = document.getElementById('categoryName').value;
                const categoryKey = categoryName.toLowerCase().replace(/\s+/g, '_');
                
                if (currentEditingId) {
                    // Kategoriyi g√ºncelle
                    const index = appData.categories.findIndex(c => c.id === currentEditingId);
                    if (index !== -1) {
                        appData.categories[index].name = categoryName;
                        appData.categories[index].key = categoryKey;
                    }
                } else {
                    // Yeni kategori ekle
                    const newId = appData.categories.length > 0 ? 
                        Math.max(...appData.categories.map(c => c.id)) + 1 : 1;
                    
                    const colors = ['#00a8ff', '#4cd964', '#ff9500', '#ff6b9d', '#ff4757', '#9d4dff'];
                    const randomColor = colors[Math.floor(Math.random() * colors.length)];
                    
                    appData.categories.push({
                        id: newId,
                        name: categoryName,
                        key: categoryKey,
                        count: 0,
                        color: randomColor
                    });
                }
                
                // LocalStorage'a kaydet
                saveCategories(appData.categories);
                
                // Sayfalarƒ± yenile
                loadAdminCategories();
                updateCategoryCounts();
                loadHomePage();
                
                document.getElementById('categoryModal').style.display = 'none';
                showNotification(`Kategori ${currentEditingId ? 'g√ºncellendi' : 'eklendi'}!`, 'success');
            };
            
            // Yeni kullanƒ±cƒ± ekle
            document.getElementById('addUserBtn').onclick = function() {
                currentEditingId = null;
                document.getElementById('userModalTitle').textContent = 'Yeni Kullanƒ±cƒ±';
                document.getElementById('userForm').reset();
                document.getElementById('userPassword').placeholder = '≈ûifre';
                document.getElementById('userModal').style.display = 'flex';
            };
            
            // Kullanƒ±cƒ± formu g√∂nderimi
            document.getElementById('userForm').onsubmit = function(e) {
                e.preventDefault();
                
                const userData = {
                    username: document.getElementById('userUsername').value,
                    email: document.getElementById('userEmail').value,
                    password: document.getElementById('userPassword').value,
                    role: document.getElementById('userRole').value,
                    status: document.getElementById('userStatus').value,
                    created: new Date().toISOString().split('T')[0],
                    lastLogin: new Date().toLocaleString('tr-TR')
                };
                
                if (currentEditingId) {
                    // Kullanƒ±cƒ±yƒ± g√ºncelle
                    const index = appData.users.findIndex(u => u.id === currentEditingId);
                    if (index !== -1) {
                        // ≈ûifre deƒüi≈ütirilmemi≈üse eski ≈üifreyi koru
                        if (!userData.password) {
                            userData.password = appData.users[index].password;
                        }
                        
                        appData.users[index] = {
                            ...appData.users[index],
                            ...userData
                        };
                    }
                } else {
                    // Yeni kullanƒ±cƒ± ekle
                    const newId = appData.users.length > 0 ? 
                        Math.max(...appData.users.map(u => u.id)) + 1 : 1;
                    
                    appData.users.push({
                        id: newId,
                        ...userData
                    });
                }
                
                // LocalStorage'a kaydet
                saveUsers(appData.users);
                
                // Sayfalarƒ± yenile
                loadAdminUsers();
                updateStats();
                
                document.getElementById('userModal').style.display = 'none';
                showNotification(`Kullanƒ±cƒ± ${currentEditingId ? 'g√ºncellendi' : 'eklendi'}!`, 'success');
            };
            
            // Toplu i≈ülem butonlarƒ±
            document.getElementById('selectChannelsBtn').onclick = toggleBulkMode;
            document.getElementById('selectAllBtn').onclick = selectAllChannels;
            document.getElementById('deselectAllBtn').onclick = deselectAllChannels;
            document.getElementById('bulkDeleteBtn').onclick = bulkDeleteChannels;
            document.getElementById('confirmBulkDeleteBtn').onclick = confirmBulkDelete;
            document.getElementById('cancelBulkDeleteBtn').onclick = function() {
                document.getElementById('bulkDeleteModal').style.display = 'none';
            };
            document.getElementById('closeBulkDeleteModal').onclick = function() {
                document.getElementById('bulkDeleteModal').style.display = 'none';
            };
            
            // ƒ∞√ße/dƒ±≈üa aktarma butonlarƒ±
            document.getElementById('importChannelsBtn').onclick = openImportExportModal;
            document.getElementById('exportChannelsBtn').onclick = function() {
                currentImportType = 'export-m3u8';
                openImportExportModal();
            };
            
            // ƒ∞√ße/dƒ±≈üa aktarma modal i≈ülemleri
            document.querySelectorAll('.option-card').forEach(card => {
                card.addEventListener('click', function() {
                    currentImportType = this.dataset.type;
                    updateImportExportUI();
                });
            });
            
            document.getElementById('startImportBtn').onclick = startImport;
            document.getElementById('startExportBtn').onclick = startExport;
            
            // Kategori se√ßimi deƒüi≈ütiƒüinde
            document.getElementById('exportCategories').addEventListener('change', function() {
                const categoriesSelect = document.getElementById('exportCategoriesSelect');
                categoriesSelect.style.display = this.checked ? 'block' : 'none';
            });
            
            // Modal kapatma
            document.querySelectorAll('.close-btn').forEach(btn => {
                btn.onclick = function() {
                    this.closest('.modal').style.display = 'none';
                };
            });
            
            // Modal dƒ±≈üƒ±na tƒ±klayƒ±nca kapat
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            });
            
            // ESC tu≈üu ile modal kapatma
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    document.querySelectorAll('.modal').forEach(modal => {
                        if (modal.style.display === 'flex') {
                            modal.style.display = 'none';
                        }
                    });
                }
            });
            
            // Sayfa yenileme butonu
            document.getElementById('refreshBtn').onclick = function() {
                loadHomePage();
                showNotification('Sayfa yenilendi!', 'success');
            };
            
            // Yardƒ±m butonu
            document.getElementById('helpBtn').onclick = function() {
                showNotification('Yardƒ±m: M3U8 dosyasƒ± y√ºklemek i√ßin Y√∂netim Paneli > Kanallar > M3U8 ƒ∞√ße Aktar butonunu kullanƒ±n.', 'info');
            };
            
            // Hƒ±zlƒ± eri≈üim butonlarƒ±
            document.getElementById('quickAddChannel').onclick = function() {
                document.getElementById('addChannelBtn').click();
            };
            
            document.getElementById('quickAddCategory').onclick = function() {
                document.getElementById('addCategoryBtn').click();
            };
            
            document.getElementById('quickAddUser').onclick = function() {
                document.getElementById('addUserBtn').click();
            };
        }
    </script>
</body>
</html>