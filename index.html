<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canlƒ± TV</title>
    <style>
        /* BASƒ∞T VE TEMƒ∞Z TASARIM */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background: #0f1419;
            color: #fff;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* HEADER */
        header {
            background: #1a2433;
            padding: 15px 0;
            border-bottom: 2px solid #00a8ff;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #00a8ff;
        }
        
        .admin-btn {
            background: #00a8ff;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        
        /* ANA ƒ∞√áERƒ∞K */
        .main-content {
            padding: 20px 0;
        }
        
        .section-title {
            font-size: 20px;
            margin: 20px 0 15px;
            color: #00a8ff;
            border-left: 4px solid #00a8ff;
            padding-left: 10px;
        }
        
        /* KANAL KARTLARI */
        .channel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .channel-card {
            background: #1a2433;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #2a3444;
        }
        
        .channel-card:hover {
            transform: translateY(-3px);
            border-color: #00a8ff;
            box-shadow: 0 5px 15px rgba(0, 168, 255, 0.2);
        }
        
        .channel-logo {
            width: 60px;
            height: 60px;
            background: #00a8ff;
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
        }
        
        .channel-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .channel-category {
            font-size: 12px;
            color: #8899aa;
        }
        
        /* OYNATICI */
        .player-container {
            background: #1a2433;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
            border: 1px solid #2a3444;
        }
        
        .player-header {
            padding: 15px;
            background: #2a3444;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .channel-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .video-placeholder {
            height: 300px;
            background: #0f1419;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #8899aa;
        }
        
        .video-placeholder i {
            font-size: 48px;
            margin-bottom: 15px;
            color: #00a8ff;
        }
        
        /* KATEGORƒ∞LER */
        .categories {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .category-btn {
            padding: 8px 16px;
            background: #2a3444;
            border: none;
            border-radius: 20px;
            color: #fff;
            cursor: pointer;
            font-size: 14px;
        }
        
        .category-btn.active {
            background: #00a8ff;
        }
        
        /* FOOTER */
        footer {
            background: #1a2433;
            padding: 20px 0;
            margin-top: 40px;
            border-top: 1px solid #2a3444;
            text-align: center;
            color: #8899aa;
            font-size: 14px;
        }
        
        /* ADMIN PANEL */
        .admin-panel {
            display: none;
            min-height: 100vh;
            background: #0f1419;
        }
        
        .admin-nav {
            background: #1a2433;
            padding: 15px;
            display: flex;
            gap: 15px;
            border-bottom: 2px solid #00a8ff;
        }
        
        .admin-nav button {
            background: none;
            border: none;
            color: #fff;
            padding: 8px 16px;
            cursor: pointer;
            border-radius: 5px;
        }
        
        .admin-nav button.active {
            background: #00a8ff;
        }
        
        .admin-section {
            display: none;
            padding: 20px;
        }
        
        .admin-section.active {
            display: block;
        }
        
        .data-table {
            width: 100%;
            background: #1a2433;
            border-radius: 8px;
            overflow: hidden;
            margin-top: 15px;
        }
        
        .data-table th {
            background: #2a3444;
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }
        
        .data-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #2a3444;
        }
        
        .action-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            margin-right: 5px;
        }
        
        .edit-btn {
            background: #00a8ff;
            color: white;
        }
        
        .delete-btn {
            background: #ff4757;
            color: white;
        }
        
        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: #1a2433;
            padding: 20px;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            border: 2px solid #00a8ff;
        }
        
        .modal-header {
            margin-bottom: 20px;
            color: #00a8ff;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #8899aa;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            background: #2a3444;
            border: 1px solid #3a4454;
            border-radius: 5px;
            color: white;
        }
        
        .submit-btn {
            width: 100%;
            padding: 12px;
            background: #00a8ff;
            border: none;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: #8899aa;
            float: right;
            cursor: pointer;
            font-size: 18px;
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            .channel-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .header-content {
                flex-direction: column;
                gap: 10px;
            }
            
            .admin-nav {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <!-- ANA SAYFA -->
    <div id="mainApp">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo">üì∫ Canlƒ± TV</div>
                    <button class="admin-btn" id="adminBtn">Y√∂netim Paneli</button>
                </div>
            </div>
        </header>

        <main class="main-content container">
            <!-- Kategoriler -->
            <div class="categories">
                <button class="category-btn active" data-category="all">T√ºm Kanallar</button>
                <button class="category-btn" data-category="news">Haber</button>
                <button class="category-btn" data-category="sport">Spor</button>
                <button class="category-btn" data-category="entertainment">Eƒülence</button>
                <button class="category-btn" data-category="movie">Sinema</button>
            </div>

            <!-- Oynatƒ±cƒ± -->
            <div class="player-container">
                <div class="player-header">
                    <div class="channel-info">
                        <div class="channel-logo" id="currentLogo">TRT</div>
                        <div>
                            <div id="currentChannel">TRT 1</div>
                            <small id="currentCategory">Haber</small>
                        </div>
                    </div>
                    <button class="admin-btn" style="padding: 5px 10px; font-size: 12px;">
                        Tam Ekran
                    </button>
                </div>
                <div class="video-placeholder">
                    <i>‚ñ∂Ô∏è</i>
                    <h3 id="playerTitle">TRT 1 - Canlƒ± Yayƒ±n</h3>
                    <p>Yayƒ±n ba≈ülatƒ±ldƒ±</p>
                </div>
            </div>

            <!-- Pop√ºler Kanallar -->
            <h2 class="section-title">Pop√ºler Kanallar</h2>
            <div class="channel-grid" id="channelsContainer">
                <!-- Kanallar buraya eklenecek -->
            </div>
        </main>

        <footer>
            <div class="container">
                <p>¬© 2023 Canlƒ± TV - T√ºm haklarƒ± saklƒ±dƒ±r</p>
                <p>Demo Uygulama</p>
            </div>
        </footer>
    </div>

    <!-- ADMIN PANEL -->
    <div id="adminPanel" class="admin-panel">
        <div class="admin-nav">
            <button class="active" data-section="dashboard">Panel</button>
            <button data-section="channels">Kanallar</button>
            <button data-section="categories">Kategoriler</button>
            <button data-section="users">Kullanƒ±cƒ±lar</button>
            <button id="adminLogout" style="margin-left: auto;">√áƒ±kƒ±≈ü</button>
        </div>

        <div class="container">
            <!-- Dashboard -->
            <div id="dashboard" class="admin-section active">
                <h2>Y√∂netim Paneli</h2>
                <p>Ho≈ü geldiniz! Sistemi buradan y√∂netebilirsiniz.</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 20px 0;">
                    <div style="background: #1a2433; padding: 15px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 24px; color: #00a8ff;" id="statChannels">12</div>
                        <div>Kanal</div>
                    </div>
                    <div style="background: #1a2433; padding: 15px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 24px; color: #4cd964;" id="statCategories">5</div>
                        <div>Kategori</div>
                    </div>
                    <div style="background: #1a2433; padding: 15px; border-radius: 8px; text-align: center;">
                        <div style="font-size: 24px; color: #ff9500;" id="statUsers">156</div>
                        <div>Kullanƒ±cƒ±</div>
                    </div>
                </div>
            </div>

            <!-- Kanallar -->
            <div id="channels" class="admin-section">
                <h2>Kanal Y√∂netimi</h2>
                <button class="admin-btn" id="addChannel" style="margin-bottom: 15px;">+ Yeni Kanal</button>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Kanal Adƒ±</th>
                            <th>Kategori</th>
                            <th>Durum</th>
                            <th>ƒ∞≈ülem</th>
                        </tr>
                    </thead>
                    <tbody id="channelsTable">
                        <!-- Kanallar buraya eklenecek -->
                    </tbody>
                </table>
            </div>

            <!-- Kategoriler -->
            <div id="categories" class="admin-section">
                <h2>Kategori Y√∂netimi</h2>
                <button class="admin-btn" id="addCategory" style="margin-bottom: 15px;">+ Yeni Kategori</button>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Kategori Adƒ±</th>
                            <th>Kanal Sayƒ±sƒ±</th>
                            <th>ƒ∞≈ülem</th>
                        </tr>
                    </thead>
                    <tbody id="categoriesTable">
                        <!-- Kategoriler buraya eklenecek -->
                    </tbody>
                </table>
            </div>

            <!-- Kullanƒ±cƒ±lar -->
            <div id="users" class="admin-section">
                <h2>Kullanƒ±cƒ± Y√∂netimi</h2>
                <button class="admin-btn" id="addUser" style="margin-bottom: 15px;">+ Yeni Kullanƒ±cƒ±</button>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Kullanƒ±cƒ± Adƒ±</th>
                            <th>E-posta</th>
                            <th>Rol</th>
                            <th>ƒ∞≈ülem</th>
                        </tr>
                    </thead>
                    <tbody id="usersTable">
                        <!-- Kullanƒ±cƒ±lar buraya eklenecek -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- MODALLAR -->
    <!-- Giri≈ü Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <button class="close-btn" id="closeLogin">√ó</button>
            <div class="modal-header">
                <h3>Y√∂netici Giri≈üi</h3>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label>Kullanƒ±cƒ± Adƒ±</label>
                    <input type="text" id="username" placeholder="admin" required>
                </div>
                <div class="form-group">
                    <label>≈ûifre</label>
                    <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="submit-btn">Giri≈ü Yap</button>
            </form>
            <p style="text-align: center; margin-top: 15px; color: #8899aa; font-size: 12px;">
                Demo: Kullanƒ±cƒ±: admin | ≈ûifre: admin123
            </p>
        </div>
    </div>

    <!-- Kanal Modal -->
    <div class="modal" id="channelModal">
        <div class="modal-content">
            <button class="close-btn" id="closeChannelModal">√ó</button>
            <div class="modal-header">
                <h3 id="channelModalTitle">Yeni Kanal</h3>
            </div>
            <form id="channelForm">
                <div class="form-group">
                    <label>Kanal Adƒ±</label>
                    <input type="text" id="channelName" required>
                </div>
                <div class="form-group">
                    <label>Kategori</label>
                    <select id="channelCategory" required>
                        <!-- Kategoriler buraya eklenecek -->
                    </select>
                </div>
                <div class="form-group">
                    <label>Logo (ƒ∞lk 3 harf)</label>
                    <input type="text" id="channelLogo" maxlength="3" required>
                </div>
                <button type="submit" class="submit-btn">Kaydet</button>
            </form>
        </div>
    </div>

    <!-- Kategori Modal -->
    <div class="modal" id="categoryModal">
        <div class="modal-content">
            <button class="close-btn" id="closeCategoryModal">√ó</button>
            <div class="modal-header">
                <h3>Yeni Kategori</h3>
            </div>
            <form id="categoryForm">
                <div class="form-group">
                    <label>Kategori Adƒ±</label>
                    <input type="text" id="categoryName" required>
                </div>
                <button type="submit" class="submit-btn">Ekle</button>
            </form>
        </div>
    </div>

    <script>
        // VERƒ∞ DEPOLAMA
        let appData = {
            channels: [
                {id: 1, name: "TRT 1", category: "news", logo: "TRT"},
                {id: 2, name: "Show TV", category: "entertainment", logo: "SHW"},
                {id: 3, name: "ATV", category: "entertainment", logo: "ATV"},
                {id: 4, name: "FOX", category: "entertainment", logo: "FOX"},
                {id: 5, name: "NTV", category: "news", logo: "NTV"},
                {id: 6, name: "beIN Sports", category: "sport", logo: "BES"},
                {id: 7, name: "TRT Spor", category: "sport", logo: "TSP"},
                {id: 8, name: "Kanal D", category: "entertainment", logo: "KND"}
            ],
            categories: [
                {id: 1, name: "Haber", key: "news", count: 2},
                {id: 2, name: "Spor", key: "sport", count: 2},
                {id: 3, name: "Eƒülence", key: "entertainment", count: 4},
                {id: 4, name: "Sinema", key: "movie", count: 0}
            ],
            users: [
                {id: 1, username: "admin", email: "admin@canlitv.com", role: "Y√∂netici"},
                {id: 2, username: "moderator", email: "mod@canlitv.com", role: "Moderat√∂r"}
            ]
        };

        // SAYFA Y√úKLENDƒ∞ƒûƒ∞NDE
        document.addEventListener('DOMContentLoaded', function() {
            loadHomePage();
            setupEventListeners();
        });

        // ANA SAYFA Y√úKLE
        function loadHomePage() {
            const container = document.getElementById('channelsContainer');
            container.innerHTML = '';
            
            appData.channels.forEach(channel => {
                const categoryName = getCategoryName(channel.category);
                const card = document.createElement('div');
                card.className = 'channel-card';
                card.dataset.category = channel.category;
                card.innerHTML = `
                    <div class="channel-logo">${channel.logo}</div>
                    <div class="channel-name">${channel.name}</div>
                    <div class="channel-category">${categoryName}</div>
                `;
                card.onclick = () => selectChannel(channel);
                container.appendChild(card);
            });
        }

        // KATEGORƒ∞ ADINI AL
        function getCategoryName(key) {
            const cat = appData.categories.find(c => c.key === key);
            return cat ? cat.name : key;
        }

        // KANAL SE√á
        function selectChannel(channel) {
            const categoryName = getCategoryName(channel.category);
            
            document.getElementById('currentLogo').textContent = channel.logo;
            document.getElementById('currentChannel').textContent = channel.name;
            document.getElementById('currentCategory').textContent = categoryName;
            document.getElementById('playerTitle').textContent = `${channel.name} - Canlƒ± Yayƒ±n`;
            
            // Se√ßili kanalƒ± vurgula
            document.querySelectorAll('.channel-card').forEach(card => {
                card.style.borderColor = '#2a3444';
            });
            event.currentTarget.style.borderColor = '#00a8ff';
        }

        // KATEGORƒ∞ Fƒ∞LTRELE
        function setupCategoryFilters() {
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.onclick = function() {
                    // T√ºm butonlardan active classƒ±nƒ± kaldƒ±r
                    document.querySelectorAll('.category-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    
                    // Tƒ±klanan butona active classƒ±nƒ± ekle
                    this.classList.add('active');
                    
                    const category = this.dataset.category;
                    filterChannels(category);
                };
            });
        }

        function filterChannels(category) {
            const cards = document.querySelectorAll('.channel-card');
            cards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // ADMIN PANELƒ∞
        function loadAdminDashboard() {
            // ƒ∞statistikleri g√ºncelle
            document.getElementById('statChannels').textContent = appData.channels.length;
            document.getElementById('statCategories').textContent = appData.categories.length;
            document.getElementById('statUsers').textContent = appData.users.length;
            
            // Kanallarƒ± y√ºkle
            loadAdminChannels();
            
            // Kategorileri y√ºkle
            loadAdminCategories();
            
            // Kullanƒ±cƒ±larƒ± y√ºkle
            loadAdminUsers();
        }

        function loadAdminChannels() {
            const tbody = document.getElementById('channelsTable');
            tbody.innerHTML = '';
            
            appData.channels.forEach(channel => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${channel.name}</td>
                    <td>${getCategoryName(channel.category)}</td>
                    <td><span style="color:#4cd964">‚óè Aktif</span></td>
                    <td>
                        <button class="action-btn edit-btn" onclick="editChannel(${channel.id})">D√ºzenle</button>
                        <button class="action-btn delete-btn" onclick="deleteChannel(${channel.id})">Sil</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadAdminCategories() {
            const tbody = document.getElementById('categoriesTable');
            tbody.innerHTML = '';
            
            appData.categories.forEach(category => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${category.name}</td>
                    <td>${category.count} kanal</td>
                    <td>
                        <button class="action-btn delete-btn" onclick="deleteCategory(${category.id})">Sil</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function loadAdminUsers() {
            const tbody = document.getElementById('usersTable');
            tbody.innerHTML = '';
            
            appData.users.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.username}</td>
                    <td>${user.email}</td>
                    <td>${user.role}</td>
                    <td>
                        <button class="action-btn edit-btn">D√ºzenle</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // OLAY Dƒ∞NLEYƒ∞Cƒ∞LERƒ∞
        function setupEventListeners() {
            // Ana sayfa kategori filtreleri
            setupCategoryFilters();
            
            // Admin butonu
            document.getElementById('adminBtn').onclick = function() {
                document.getElementById('loginModal').style.display = 'flex';
            };
            
            // Giri≈ü formu
            document.getElementById('loginForm').onsubmit = function(e) {
                e.preventDefault();
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                if (username === 'admin' && password === 'admin123') {
                    document.getElementById('loginModal').style.display = 'none';
                    document.getElementById('mainApp').style.display = 'none';
                    document.getElementById('adminPanel').style.display = 'block';
                    loadAdminDashboard();
                } else {
                    alert('Hatalƒ± kullanƒ±cƒ± adƒ± veya ≈üifre!');
                }
            };
            
            // √áƒ±kƒ±≈ü butonu
            document.getElementById('adminLogout').onclick = function() {
                document.getElementById('adminPanel').style.display = 'none';
                document.getElementById('mainApp').style.display = 'block';
            };
            
            // Admin navigasyon
            document.querySelectorAll('.admin-nav button[data-section]').forEach(btn => {
                btn.onclick = function() {
                    // T√ºm butonlardan active classƒ±nƒ± kaldƒ±r
                    document.querySelectorAll('.admin-nav button').forEach(b => {
                        b.classList.remove('active');
                    });
                    
                    // Tƒ±klanan butona active classƒ±nƒ± ekle
                    this.classList.add('active');
                    
                    // T√ºm b√∂l√ºmleri gizle
                    document.querySelectorAll('.admin-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // ƒ∞lgili b√∂l√ºm√º g√∂ster
                    const sectionId = this.dataset.section;
                    document.getElementById(sectionId).classList.add('active');
                };
            });
            
            // Yeni kanal butonu
            document.getElementById('addChannel').onclick = function() {
                // Kategori se√ßeneklerini doldur
                const select = document.getElementById('channelCategory');
                select.innerHTML = '';
                appData.categories.forEach(category => {
                    const option = document.createElement('option');
                    option.value = category.key;
                    option.textContent = category.name;
                    select.appendChild(option);
                });
                
                document.getElementById('channelModalTitle').textContent = 'Yeni Kanal Ekle';
                document.getElementById('channelForm').reset();
                document.getElementById('channelModal').style.display = 'flex';
            };
            
            // Kanal formu
            document.getElementById('channelForm').onsubmit = function(e) {
                e.preventDefault();
                
                const name = document.getElementById('channelName').value;
                const category = document.getElementById('channelCategory').value;
                const logo = document.getElementById('channelLogo').value.toUpperCase();
                
                const newChannel = {
                    id: appData.channels.length + 1,
                    name: name,
                    category: category,
                    logo: logo
                };
                
                appData.channels.push(newChannel);
                loadAdminChannels();
                loadHomePage();
                document.getElementById('statChannels').textContent = appData.channels.length;
                document.getElementById('channelModal').style.display = 'none';
                
                alert('Kanal ba≈üarƒ±yla eklendi!');
            };
            
            // Yeni kategori butonu
            document.getElementById('addCategory').onclick = function() {
                document.getElementById('categoryForm').reset();
                document.getElementById('categoryModal').style.display = 'flex';
            };
            
            // Kategori formu
            document.getElementById('categoryForm').onsubmit = function(e) {
                e.preventDefault();
                
                const name = document.getElementById('categoryName').value;
                const key = name.toLowerCase().replace(/\s+/g, '_');
                
                const newCategory = {
                    id: appData.categories.length + 1,
                    name: name,
                    key: key,
                    count: 0
                };
                
                appData.categories.push(newCategory);
                loadAdminCategories();
                document.getElementById('statCategories').textContent = appData.categories.length;
                document.getElementById('categoryModal').style.display = 'none';
                
                alert('Kategori ba≈üarƒ±yla eklendi!');
            };
            
            // Modal kapatma butonlarƒ±
            document.getElementById('closeLogin').onclick = function() {
                document.getElementById('loginModal').style.display = 'none';
            };
            
            document.getElementById('closeChannelModal').onclick = function() {
                document.getElementById('channelModal').style.display = 'none';
            };
            
            document.getElementById('closeCategoryModal').onclick = function() {
                document.getElementById('categoryModal').style.display = 'none';
            };
            
            // Modal dƒ±≈üƒ±na tƒ±klayƒ±nca kapat
            document.querySelectorAll('.modal').forEach(modal => {
                modal.onclick = function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                };
            });
        }

        // KANAL D√úZENLE/Sƒ∞L
        function editChannel(id) {
            const channel = appData.channels.find(c => c.id === id);
            if (channel) {
                // Kategori se√ßeneklerini doldur
                const select = document.getElementById('channelCategory');
                select.innerHTML = '';
                appData.categories.forEach(category => {
                    const option = document.createElement('option');
                    option.value = category.key;
                    option.textContent = category.name;
                    if (category.key === channel.category) {
                        option.selected = true;
                    }
                    select.appendChild(option);
                });
                
                document.getElementById('channelModalTitle').textContent = 'Kanalƒ± D√ºzenle';
                document.getElementById('channelName').value = channel.name;
                document.getElementById('channelLogo').value = channel.logo;
                document.getElementById('channelModal').style.display = 'flex';
                
                // Ge√ßici ID saklama
                document.getElementById('channelForm').dataset.editId = id;
            }
        }

        function deleteChannel(id) {
            if (confirm('Bu kanalƒ± silmek istediƒüinize emin misiniz?')) {
                appData.channels = appData.channels.filter(c => c.id !== id);
                loadAdminChannels();
                loadHomePage();
                document.getElementById('statChannels').textContent = appData.channels.length;
                alert('Kanal silindi!');
            }
        }

        function deleteCategory(id) {
            const category = appData.categories.find(c => c.id === id);
            if (category.count > 0) {
                alert('Bu kategoriyi silemezsiniz! Kategoriye baƒülƒ± kanallar var.');
                return;
            }
            
            if (confirm('Bu kategoriyi silmek istediƒüinize emin misiniz?')) {
                appData.categories = appData.categories.filter(c => c.id !== id);
                loadAdminCategories();
                document.getElementById('statCategories').textContent = appData.categories.length;
                alert('Kategori silindi!');
            }
        }

        // ƒ∞lk kanalƒ± se√ß
        window.onload = function() {
            if (appData.channels.length > 0) {
                selectChannel(appData.channels[0]);
            }
        };
    </script>
</body>
</html>